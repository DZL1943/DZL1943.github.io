
<html>
  <style>
    details {
      padding-left: 20px;
    }
    summary {
      font-size: 20px;
    }
    #root {
      display: flex;
      height: auto;
    }
    #tree {
      border-right: 1px solid gray;
      width: 200px;
    }
    #iframe {
      height: 100vh;
      flex: 1;
    }
  </style>
  <body>
    <div id="root">
      <div id="tree"></div>
      <div id="iframe">
        <iframe name="iframe" src="" frameborder=0 width="100%" height="100%"></iframe>
      </div>
    </div>
  </body>
  <script>
    
  function gen_tree(childs){
  var html = ''
  childs.forEach(el => {
    if (!(el.children && el.children.length)){
      html+=`<details>
      <summary>
        <a href="${el.path}" target="iframe">${el.name}</a>
      </summary>`
    }else{
      html+=`<details>
      <summary>
        <span>${el.name}</span>
      </summary>`
      html += gen_tree(el.children) // 如果有chidren就继续遍历
    }
    html+= `</details>`
  })
  return html;
}

  var data = [
  {
    "name": "index",
    "path": "index.html",
    "is_file": true
  },
  {
    "name": "obsidian",
    "path": "obsidian",
    "is_file": false,
    "children": [
      {
        "name": "obsidian-dataview",
        "path": "obsidian/obsidian-dataview.html",
        "is_file": true
      },
      {
        "name": "obsidian-resources",
        "path": "obsidian/obsidian-resources.html",
        "is_file": true
      },
      {
        "name": "obsidian-tasks",
        "path": "obsidian/obsidian-tasks.html",
        "is_file": true
      },
      {
        "name": "obsidian-tips",
        "path": "obsidian/obsidian-tips.html",
        "is_file": true
      },
      {
        "name": "obsidian-插件",
        "path": "obsidian/obsidian-插件.html",
        "is_file": true
      },
      {
        "name": "obsidian-设置",
        "path": "obsidian/obsidian-设置.html",
        "is_file": true
      },
      {
        "name": "obsidian",
        "path": "obsidian/obsidian.html",
        "is_file": true
      },
      {
        "name": "obsidian优缺点",
        "path": "obsidian/obsidian优缺点.html",
        "is_file": true
      },
      {
        "name": "obsidian列表缩进",
        "path": "obsidian/obsidian列表缩进.html",
        "is_file": true
      },
      {
        "name": "obsidian剪藏方案",
        "path": "obsidian/obsidian剪藏方案.html",
        "is_file": true
      },
      {
        "name": "用obsidian记日记和任务待办",
        "path": "obsidian/用obsidian记日记和任务待办.html",
        "is_file": true
      }
    ]
  }
]

  var tree = document.getElementById('tree')
  tree.innerHTML = gen_tree(data)

  </script>
</html>

