<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Computer/Storage/PostgreSQL Doc" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">PostgreSQL Doc | Welcome</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://dzl1943.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://dzl1943.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://dzl1943.github.io/docs/Computer/Storage/PostgreSQL Doc"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="PostgreSQL Doc | Welcome"><meta data-rh="true" name="description" content="一. 教程"><meta data-rh="true" property="og:description" content="一. 教程"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://dzl1943.github.io/docs/Computer/Storage/PostgreSQL Doc"><link data-rh="true" rel="alternate" href="https://dzl1943.github.io/docs/Computer/Storage/PostgreSQL Doc" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://dzl1943.github.io/docs/Computer/Storage/PostgreSQL Doc" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"PostgreSQL Doc","item":"https://dzl1943.github.io/docs/Computer/Storage/PostgreSQL Doc"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Welcome RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Welcome Atom Feed">





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.d87f14b0.css">
<script src="/assets/js/runtime~main.9197e869.js" defer="defer"></script>
<script src="/assets/js/main.75b838cb.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Computer">Doc</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://docusaurus.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Docusaurus<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/DZL1943" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="切换浅色/暗黑模式（当前为system mode）"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Computer"><span title="Computer" class="linkLabel_WmDU">Computer</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Computer/Hardware/CPU"><span title="Hardware" class="categoryLinkLabel_W154">Hardware</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Computer/OS/Linux"><span title="OS" class="categoryLinkLabel_W154">OS</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Computer/Network/DNS"><span title="Network" class="categoryLinkLabel_W154">Network</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/Computer/Storage/Database"><span title="Storage" class="categoryLinkLabel_W154">Storage</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Computer/Storage/Database"><span title="Database" class="linkLabel_WmDU">Database</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Computer/Storage/PostgreSQL Doc"><span title="PostgreSQL Doc" class="linkLabel_WmDU">PostgreSQL Doc</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Computer/Storage/PostgreSQL"><span title="PostgreSQL" class="linkLabel_WmDU">PostgreSQL</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Computer/Storage/RPC&amp;MQ"><span title="RPC&amp;MQ" class="linkLabel_WmDU">RPC&amp;MQ</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Computer/Storage/SQL"><span title="SQL" class="linkLabel_WmDU">SQL</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Computer/Storage/云存储"><span title="云存储" class="linkLabel_WmDU">云存储</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Computer/Algorithm/Data Structures"><span title="Algorithm" class="categoryLinkLabel_W154">Algorithm</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Computer/Programming/Java"><span title="Programming" class="categoryLinkLabel_W154">Programming</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Computer/Engineering/IaaS-PaaS-SaaS"><span title="Engineering" class="categoryLinkLabel_W154">Engineering</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Computer/Frontend/Frontend"><span title="Frontend" class="categoryLinkLabel_W154">Frontend</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Computer/Application/Alacritty"><span title="Application" class="categoryLinkLabel_W154">Application</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Computer/Data/ASCII"><span title="Data" class="categoryLinkLabel_W154">Data</span></a></div></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Storage</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">PostgreSQL Doc</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>PostgreSQL Doc</h1></header><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="一-教程">一. 教程<a href="#一-教程" class="hash-link" aria-label="一. 教程的直接链接" title="一. 教程的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-入门">1. 入门<a href="#1-入门" class="hash-link" aria-label="1. 入门的直接链接" title="1. 入门的直接链接" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="13-创建数据库">1.3 创建数据库<a href="#13-创建数据库" class="hash-link" aria-label="1.3 创建数据库的直接链接" title="1.3 创建数据库的直接链接" translate="no">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">createdb mydb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dropdb mydb</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-sql-语言">2. SQL 语言<a href="#2-sql-语言" class="hash-link" aria-label="2. SQL 语言的直接链接" title="2. SQL 语言的直接链接" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="23-创建新表">2.3 创建新表<a href="#23-创建新表" class="hash-link" aria-label="2.3 创建新表的直接链接" title="2.3 创建新表的直接链接" translate="no">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> weather </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    city            </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    temp_lo         </span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">-- low temperature</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    temp_hi         </span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">-- high temperature</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    prcp            </span><span class="token keyword" style="color:#00009f">real</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">-- precipitation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">date</span><span class="token plain">            </span><span class="token keyword" style="color:#00009f">date</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> cities </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name            </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    location        </span><span class="token keyword" style="color:#00009f">point</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="24-用行填充表">2.4 用行填充表<a href="#24-用行填充表" class="hash-link" aria-label="2.4 用行填充表的直接链接" title="2.4 用行填充表的直接链接" translate="no">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">COPY weather </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/home/user/weather.txt&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> weather </span><span class="token keyword" style="color:#00009f">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;San Francisco&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">46</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.25</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;1994-11-27&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> weather </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">city</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> temp_lo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> temp_hi</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> prcp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">date</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;San Francisco&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">43</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">57</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;1994-11-29&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> weather </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> city</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> temp_hi</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> temp_lo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;1994-11-29&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Hayward&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">54</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">37</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> cities </span><span class="token keyword" style="color:#00009f">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;San Francisco&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;(-194.0, 53.0)&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="25-查询表">2.5 查询表<a href="#25-查询表" class="hash-link" aria-label="2.5 查询表的直接链接" title="2.5 查询表的直接链接" translate="no">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">--SELECT * FROM weather;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> city</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> temp_lo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> temp_hi</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> prcp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">date</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> city</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">temp_hi</span><span class="token operator" style="color:#393A34">+</span><span class="token plain">temp_lo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> temp_avg</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">date</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> city </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;San Francisco&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> prcp </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> city</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> city</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> temp_lo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DISTINCT</span><span class="token plain"> city</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DISTINCT</span><span class="token plain"> city</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> city</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="26-表之间的联接">2.6 表之间的联接<a href="#26-表之间的联接" class="hash-link" aria-label="2.6 表之间的联接的直接链接" title="2.6 表之间的联接的直接链接" translate="no">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather </span><span class="token keyword" style="color:#00009f">JOIN</span><span class="token plain"> cities </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> city </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> weather</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">city</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> weather</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">temp_lo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> weather</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">temp_hi</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   weather</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">prcp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> weather</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cities</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">location</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather </span><span class="token keyword" style="color:#00009f">JOIN</span><span class="token plain"> cities </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> weather</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">city </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cities</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cities</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> city </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather </span><span class="token keyword" style="color:#00009f">LEFT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OUTER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">JOIN</span><span class="token plain"> cities </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> weather</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">city </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cities</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> w1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">city</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">temp_lo </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> low</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">temp_hi </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> high</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   w2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">city</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">temp_lo </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> low</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">temp_hi </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> high</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather w1 </span><span class="token keyword" style="color:#00009f">JOIN</span><span class="token plain"> weather w2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> w1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">temp_lo </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> w2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">temp_lo </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> w1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">temp_hi </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> w2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">temp_hi</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather w </span><span class="token keyword" style="color:#00009f">JOIN</span><span class="token plain"> cities c </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">city </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="27-聚合函数">2.7 聚合函数<a href="#27-聚合函数" class="hash-link" aria-label="2.7 聚合函数的直接链接" title="2.7 聚合函数的直接链接" translate="no">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">temp_lo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> city </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> temp_lo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">temp_lo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> city</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">temp_lo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> city</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> city</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">temp_lo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> city</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">HAVING</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">temp_lo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">40</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> city</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">temp_lo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> city </span><span class="token operator" style="color:#393A34">LIKE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;S%&#x27;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">-- (1)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> city</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> city</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> FILTER </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> temp_lo </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">45</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">temp_lo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> city</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="28-更新">2.8 更新<a href="#28-更新" class="hash-link" aria-label="2.8 更新的直接链接" title="2.8 更新的直接链接" translate="no">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">UPDATE</span><span class="token plain"> weather</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> temp_hi </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> temp_hi </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  temp_lo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> temp_lo </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">date</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;1994-11-28&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="29-删除">2.9 删除<a href="#29-删除" class="hash-link" aria-label="2.9 删除的直接链接" title="2.9 删除的直接链接" translate="no">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">DELETE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> city </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Hayward&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-高级功能">3. 高级功能<a href="#3-高级功能" class="hash-link" aria-label="3. 高级功能的直接链接" title="3. 高级功能的直接链接" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="32-视图">3.2 视图<a href="#32-视图" class="hash-link" aria-label="3.2 视图的直接链接" title="3.2 视图的直接链接" translate="no">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">VIEW</span><span class="token plain"> myview </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> temp_lo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> temp_hi</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> prcp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> location</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> weather</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cities</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> city </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> myview</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="33-外键">3.3 外键<a href="#33-外键" class="hash-link" aria-label="3.3 外键的直接链接" title="3.3 外键的直接链接" translate="no">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> cities </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name     </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">primary</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        location </span><span class="token keyword" style="color:#00009f">point</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> weather </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        city      </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">references</span><span class="token plain"> cities</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        temp_lo   </span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        temp_hi   </span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        prcp      </span><span class="token keyword" style="color:#00009f">real</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">date</span><span class="token plain">      </span><span class="token keyword" style="color:#00009f">date</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="34-事务">3.4 事务<a href="#34-事务" class="hash-link" aria-label="3.4 事务的直接链接" title="3.4 事务的直接链接" translate="no">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">BEGIN</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">UPDATE</span><span class="token plain"> accounts </span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> balance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> balance </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Alice&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- etc etc</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">COMMIT</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">BEGIN</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">UPDATE</span><span class="token plain"> accounts </span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> balance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> balance </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Alice&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SAVEPOINT</span><span class="token plain"> my_savepoint</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">UPDATE</span><span class="token plain"> accounts </span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> balance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> balance </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Bob&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- oops ... forget that and use Wally&#x27;s account</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ROLLBACK</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> my_savepoint</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">UPDATE</span><span class="token plain"> accounts </span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> balance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> balance </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Wally&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">COMMIT</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="35-窗口函数">3.5 窗口函数<a href="#35-窗口函数" class="hash-link" aria-label="3.5 窗口函数的直接链接" title="3.5 窗口函数的直接链接" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="36-继承">3.6 继承<a href="#36-继承" class="hash-link" aria-label="3.6 继承的直接链接" title="3.6 继承的直接链接" translate="no">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> cities </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name       </span><span class="token keyword" style="color:#00009f">text</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  population </span><span class="token keyword" style="color:#00009f">real</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  elevation  </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">-- (in ft)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> capitals </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  state      </span><span class="token keyword" style="color:#00009f">char</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">UNIQUE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> INHERITS </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cities</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="二-sql-语言">二. SQL 语言<a href="#二-sql-语言" class="hash-link" aria-label="二. SQL 语言的直接链接" title="二. SQL 语言的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-sql-语法">4. SQL 语法<a href="#4-sql-语法" class="hash-link" aria-label="4. SQL 语法的直接链接" title="4. SQL 语法的直接链接" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="41-词法结构">4.1 词法结构<a href="#41-词法结构" class="hash-link" aria-label="4.1 词法结构的直接链接" title="4.1 词法结构的直接链接" translate="no">​</a></h4>
<p>关键字和未加引号的标识符不区分大小写</p>
<p>经常使用的约定是用大写字母写关键词，用小写字母写名字</p>
<p>还有第二种标识符：<em>分隔标识符</em> 或 <em>带引号的标识符</em>。它是通过将任意字符序列括在双引号 （“） 中形成的。分隔标识符始终是标识符，而不是关键字。</p>
<p>带引号的标识符可以包含任何字符，但代码为零的字符除外。</p>
<p>引用标识符也会使其区分大小写，而未引用的名称始终折叠为小写。(与 SQL 标准不兼容)</p>
<p>带引号的标识符的变体允许包含由其代码点标识的转义 Unicode 字符。此变体以 <code>U&amp;</code> 开头（大写或小写 U 后跟 &amp; 符号），紧接在左双引号之前，中间没有任何空格</p>
<p>PostgreSQL 中有三种 <em>隐式类型的常量</em>：字符串、位字符串和数字</p>
<p>SQL 中的字符串常量是用单引号 （<code>&#x27;</code>） 括起来的任意字符序列</p>
<p>两个仅由 <em>空格分隔且至少有一个换行</em> 符的字符串常量被连接起来，并有效地被视为字符串已写入一个常量</p>
<p>PostgreSQL 还接受 “escape” 字符串常量，这是 SQL 标准的扩展。通过在左单引号之前写下字母 <code>E</code>（大写或小写）来指定转义字符串常量，例如 <code>E&#x27;foo&#x27;</code>。</p>
<p>Unicode 转义字符串常量以 <code>U&amp;</code>（大写或小写字母 U 后跟 &amp; 符号）开头，紧接在左引号之前，中间没有任何空格，例如 <code>U&amp;&#x27;foo&#x27;</code>。</p>
<p>美元引用的字符串常量由一个美元符号 （<code>$</code>）、一个由零个或多个字符组成的可选“标记”、另一个美元符号、构成字符串内容的任意字符序列、一个美元符号、开始此美元引号的相同标记和一个美元符号组成。<br>
<!-- -->美元引用的字符串中没有任何字符被转义</p>
<p>位串常量看起来像常规字符串常量，在开始引号之前有一个 <code>B</code>（大写或小写）（中间没有空格），例如 <code>B&#x27;1001&#x27;</code>。位串常量中唯一允许的字符是 <code>0</code> 和 <code>1</code>。可以使用前导 <code>X</code>（大写或小写）以十六进制表示法指定位字符串常量，例如 <code>X&#x27;1FF&#x27;</code>。</p>
<p>运算符名称是以下列表中最多 <code>NAMEDATALEN-1</code>（默认为 63 个）字符的序列： <code>+ - * / &lt; &gt; = ~ ! @ # % ^ &amp; | ` ? </code></p>
<p>特殊字符</p>
<ul>
<li class="">美元符号 （<code>$</code>） 后跟数字用于表示函数定义或准备好的语句主体中的位置参数。在其他上下文中，美元符号可以是标识符的一部分，也可以是美元引用的字符串常量。</li>
<li class="">圆括号 （<code>（）</code>） 具有其通常的含义，用于对表达式进行分组并强制执行优先级。在某些情况下，需要括号作为特定 SQL 命令的固定语法的一部分。</li>
<li class="">方括号 （<code>[]</code>） 用于选择数组的元素。有关数组的更多信息，请参见<a href="https://www.postgresql.org/docs/current/arrays.html" target="_blank" rel="noopener noreferrer" title="8.15. Arrays" class="">Section 8.15</a>。</li>
<li class="">逗号 （<code>，</code>） 在某些语法结构中用于分隔列表的元素。</li>
<li class="">分号 （<code>;</code>） 终止 SQL 命令。它不能出现在命令中的任何位置，除非出现在字符串常量或带引号的标识符中。</li>
<li class="">冒号 （<code>：</code>） 用于从数组中选择 “切片”。（参见<a href="https://www.postgresql.org/docs/current/arrays.html" target="_blank" rel="noopener noreferrer" title="8.15. Arrays" class="">第 8.15 节</a> 。在某些 SQL 方言（例如嵌入式 SQL）中，冒号用于为变量名称添加前缀。</li>
<li class="">星号 （<code>*</code>） 在某些上下文中用于表示表行或复合值的所有字段。当用作聚合函数的参数时，它也具有特殊含义，即聚合不需要任何显式参数。</li>
<li class="">句点 （<code>.</code>） 用于数字常量，并用于分隔架构、表和列名称。</li>
</ul>
<p>注释是以双破折号开头并延伸到行尾的字符序列. 或者，可以使用 C 样式的块注释</p>
<p>运算符优先级</p>
<table><thead><tr><th>Operator/Element</th><th>Associativity</th><th>Description</th></tr></thead><tbody><tr><td><code>.</code></td><td>left</td><td>table/column name separator</td></tr><tr><td><code>::</code></td><td>left</td><td>PostgreSQL-style typecast</td></tr><tr><td><code>[</code> <code>]</code></td><td>left</td><td>array element selection</td></tr><tr><td><code>+</code> <code>-</code></td><td>right</td><td>unary plus, unary minus</td></tr><tr><td><code>COLLATE</code></td><td>left</td><td>collation selection</td></tr><tr><td><code>AT</code></td><td>left</td><td><code>AT TIME ZONE</code></td></tr><tr><td><code>^</code></td><td>left</td><td>exponentiation</td></tr><tr><td><code>*</code> <code>/</code> <code>%</code></td><td>left</td><td>multiplication, division, modulo</td></tr><tr><td><code>+</code> <code>-</code></td><td>left</td><td>addition, subtraction</td></tr><tr><td>(any other operator)</td><td>left</td><td>all other native and user-defined operators</td></tr><tr><td><code>BETWEEN</code> <code>IN</code> <code>LIKE</code> <code>ILIKE</code> <code>SIMILAR</code></td><td></td><td>range containment, set membership, string matching</td></tr><tr><td><code>&lt;</code> <code>&gt;</code> <code>=</code> <code>&lt;=</code> <code>&gt;=</code> <code>&lt;&gt;</code></td><td></td><td>comparison operators</td></tr><tr><td><code>IS</code> <code>ISNULL</code> <code>NOTNULL</code></td><td></td><td><code>IS TRUE</code>, <code>IS FALSE</code>, <code>IS NULL</code>, <code>IS DISTINCT FROM</code>, etc.</td></tr><tr><td><code>NOT</code></td><td>right</td><td>logical negation</td></tr><tr><td><code>AND</code></td><td>left</td><td>logical conjunction</td></tr><tr><td><code>OR</code></td><td>left</td><td>logical disjunction</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="42-值表达式">4.2 值表达式<a href="#42-值表达式" class="hash-link" aria-label="4.2 值表达式的直接链接" title="4.2 值表达式的直接链接" translate="no">​</a></h4>
<p>值表达式用于各种上下文，例如在 <code>SELECT</code> 命令的目标列表中，作为 <code>INSERT</code> 或 <code>UPDATE</code> 中的新列值，或者在许多命令的搜索条件中使用。值表达式的结果有时称为 <em>标量</em>，以区别于表表达式（即表）的结果。因此，值表达式也称为 <em>标量表达式</em>（甚至简称_为表达式_）。表达式语法允许使用 arithmetic、logical、set 和其他操作从原始部分计算值。</p>
<p>值表达式是以下值之一：</p>
<ul>
<li class="">常量或文本值</li>
<li class="">列引用</li>
<li class="">位置参数引用，位于函数定义或预编译语句的主体中</li>
<li class="">下标表达式</li>
<li class="">字段选择表达式</li>
<li class="">运算符调用</li>
<li class="">函数调用</li>
<li class="">聚合表达式</li>
<li class="">窗口函数调用</li>
<li class="">A 型强制转换</li>
<li class="">排序规则表达式</li>
<li class="">标量子查询</li>
<li class="">数组构造函数</li>
<li class="">行构造函数</li>
<li class="">括号中的另一个值表达式（用于对子表达式进行分组并覆盖优先级）</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="43-调用函数">4.3 调用函数<a href="#43-调用函数" class="hash-link" aria-label="4.3 调用函数的直接链接" title="4.3 调用函数的直接链接" translate="no">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FUNCTION</span><span class="token plain"> concat_lower_or_upper</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a </span><span class="token keyword" style="color:#00009f">text</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b </span><span class="token keyword" style="color:#00009f">text</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> uppercase </span><span class="token keyword" style="color:#00009f">boolean</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">RETURNS</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">text</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$$</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CASE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> $</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> UPPER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27; &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> $</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ELSE</span><span class="token plain"> LOWER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27; &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> $</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">END</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$$</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">LANGUAGE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SQL</span><span class="token plain"> IMMUTABLE STRICT</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>在命名表示法中，每个参数的名称都使用 <code>=&gt;</code> 指定，以将其与参数表达式分开. 为了向后兼容，支持基于 “：=” 的旧语法</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-数据定义">5. 数据定义<a href="#5-数据定义" class="hash-link" aria-label="5. 数据定义的直接链接" title="5. 数据定义的直接链接" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="52-默认值">5.2 默认值<a href="#52-默认值" class="hash-link" aria-label="5.2 默认值的直接链接" title="5.2 默认值的直接链接" translate="no">​</a></h4>
<p>默认值可以是一个表达式，每当插入默认值时（<em>而不是</em> 在创建表时），都会对其进行评估. 例如 <code>timestamp</code> 列的默认值为 <code>CURRENT_TIMESTAMP</code>, 另一个常见示例是为每一行生成一个 “serial number”。</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> products </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_no </span><span class="token keyword" style="color:#00009f">integer</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> nextval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;products_product_no_seq&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="53-生成的列">5.3 生成的列<a href="#53-生成的列" class="hash-link" aria-label="5.3 生成的列的直接链接" title="5.3 生成的列的直接链接" translate="no">​</a></h4>
<p>生成列是始终从其他列计算的特殊列。因此，它之于列就像视图之于表。生成列有两种类型：stored 和 virtual。存储的生成列在写入（插入或更新）时计算，并像普通列一样占用存储空间。虚拟生成列不占用存储空间，在读取时计算。因此，虚拟生成列类似于视图，而存储的生成列类似于具体化视图（不同之处在于它始终自动更新）。PostgreSQL 目前仅实现存储的生成列。</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> people </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    height_cm </span><span class="token keyword" style="color:#00009f">numeric</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    height_in </span><span class="token keyword" style="color:#00009f">numeric</span><span class="token plain"> GENERATED ALWAYS </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">height_cm </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2.54</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> STORED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="54-约束">5.4 约束<a href="#54-约束" class="hash-link" aria-label="5.4 约束的直接链接" title="5.4 约束的直接链接" translate="no">​</a></h4>
<ul>
<li class="">Check</li>
<li class="">Not-Null</li>
<li class="">Unique</li>
<li class="">Primary Key</li>
<li class="">Foreign Key</li>
<li class="">Exclusion</li>
</ul>
<p>约束定义位于 data type 之后，就像 default value 定义一样。默认值和约束可以按任意顺序列出。</p>
<p>一个列可以有多个约束</p>
<p>要指定命名约束，请使用关键字 <code>CONSTRAINT</code>，后跟标识符，后跟约束定义。（如果您未以这种方式指定约束名称，系统会为您选择一个名称。)</p>
<p>列约束也可以写为 table 约束，而相反的情况不一定可能，因为列约束应该只引用它所附加到的列。</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> products </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    product_no </span><span class="token keyword" style="color:#00009f">integer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token keyword" style="color:#00009f">text</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    price </span><span class="token keyword" style="color:#00009f">numeric</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CHECK</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">price </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    discounted_price </span><span class="token keyword" style="color:#00009f">numeric</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CHECK</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">discounted_price </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">CHECK</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">price </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> discounted_price</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>在大多数数据库设计中，大多数列应标记为非 null。</p>
<p>要为一组列定义唯一约束，请将其编写为 table 约束，列名以逗号分隔</p>
<p>添加唯一约束将自动在约束中列出的列或列组上创建唯一的 B 树索引。</p>
<p>主键约束指示一列或一组列可用作表中行的唯一标识符。这要求值既唯一又不为空。(UNIQUE NOT NULL)</p>
<p>主键可以跨越多个列</p>
<p>添加主键将自动在主键中列出的列或列组上创建唯一的 B 树索引，并强制将列标记为 <code>NOT NULL</code>。</p>
<p>一个表最多可以有一个主键。（可以有任意数量的唯一和非空约束，它们在功能上几乎相同，但只有一个可以被标识为主键。关系数据库理论规定每个表都必须有一个主键。PostgreSQL 不强制执行此规则，但通常最好遵循它。</p>
<p>外键约束指定一列（或一组列）中的值必须与出现在另一个表的某一行中的值匹配。我们说这维护了两个相关表之间的 <em>引用完整性</em>。</p>
<p>外键还可以约束和引用一组列</p>
<p>有时，外键约束的 “other table” 是同一个 table 很有用;这称为 <em>自引用</em> 外键。</p>
<p>一个表可以有多个外键约束。这用于实现表之间的多对多关系。</p>
<p>ON DELETE 时的引用处理策略</p>
<ul>
<li class="">RESTRICT: 防止删除引用的行</li>
<li class="">CASCADE: 在删除引用的行时，引用该行的行也应自动删除</li>
<li class="">SET NULL, SET DEFAULT: 在删除引用行时，引用行中的引用列分别设置为 null 或其默认值</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="55-系统列">5.5 系统列<a href="#55-系统列" class="hash-link" aria-label="5.5 系统列的直接链接" title="5.5 系统列的直接链接" translate="no">​</a></h4>
<ul>
<li class="">tableoid</li>
<li class="">xmin</li>
<li class="">cmin</li>
<li class="">xmax</li>
<li class="">cmax</li>
<li class="">ctid</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="56-修改表">5.6 修改表<a href="#56-修改表" class="hash-link" aria-label="5.6 修改表的直接链接" title="5.6 修改表的直接链接" translate="no">​</a></h4>
<ul>
<li class="">增删列</li>
<li class="">增删约束</li>
<li class="">更改默认值</li>
<li class="">更改列数据类型</li>
<li class="">重命名列</li>
<li class="">重命名表</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="57-权限">5.7 权限<a href="#57-权限" class="hash-link" aria-label="5.7 权限的直接链接" title="5.7 权限的直接链接" translate="no">​</a></h4>
<p>SELECT、INSERT、UPDATE、DELETE、TRUNCATE、REFERENCES、TRIGGER、CREATE、CONNECT、TEMPORARY、EXECUTE、USAGE、SET、ALTER SYSTEM</p>
<table><thead><tr><th>Privilege</th><th>Abbreviation</th><th>Applicable Object Types</th></tr></thead><tbody><tr><td><code>SELECT</code></td><td><code>r</code> (“read”)</td><td><code>LARGE OBJECT</code>, <code>SEQUENCE</code>, <code>TABLE</code> (and table-like objects), table column</td></tr><tr><td><code>INSERT</code></td><td><code>a</code> (“append”)</td><td><code>TABLE</code>, table column</td></tr><tr><td><code>UPDATE</code></td><td><code>w</code> (“write”)</td><td><code>LARGE OBJECT</code>, <code>SEQUENCE</code>, <code>TABLE</code>, table column</td></tr><tr><td><code>DELETE</code></td><td><code>d</code></td><td><code>TABLE</code></td></tr><tr><td><code>TRUNCATE</code></td><td><code>D</code></td><td><code>TABLE</code></td></tr><tr><td><code>REFERENCES</code></td><td><code>x</code></td><td><code>TABLE</code>, table column</td></tr><tr><td><code>TRIGGER</code></td><td><code>t</code></td><td><code>TABLE</code></td></tr><tr><td><code>CREATE</code></td><td><code>C</code></td><td><code>DATABASE</code>, <code>SCHEMA</code>, <code>TABLESPACE</code></td></tr><tr><td><code>CONNECT</code></td><td><code>c</code></td><td><code>DATABASE</code></td></tr><tr><td><code>TEMPORARY</code></td><td><code>T</code></td><td><code>DATABASE</code></td></tr><tr><td><code>EXECUTE</code></td><td><code>X</code></td><td><code>FUNCTION</code>, <code>PROCEDURE</code></td></tr><tr><td><code>USAGE</code></td><td><code>U</code></td><td><code>DOMAIN</code>, <code>FOREIGN DATA WRAPPER</code>, <code>FOREIGN SERVER</code>, <code>LANGUAGE</code>, <code>SCHEMA</code>, <code>SEQUENCE</code>, <code>TYPE</code></td></tr><tr><td><code>SET</code></td><td><code>s</code></td><td><code>PARAMETER</code></td></tr><tr><td><code>ALTER SYSTEM</code></td><td><code>A</code></td><td><code>PARAMETER</code></td></tr></tbody></table>
<table><thead><tr><th>Object Type</th><th>All Privileges</th><th>Default <code>PUBLIC</code> Privileges</th><th>psql Command</th></tr></thead><tbody><tr><td><code>DATABASE</code></td><td><code>CTc</code></td><td><code>Tc</code></td><td><code>\l</code></td></tr><tr><td><code>DOMAIN</code></td><td><code>U</code></td><td><code>U</code></td><td><code>\dD+</code></td></tr><tr><td><code>FUNCTION</code> or <code>PROCEDURE</code></td><td><code>X</code></td><td><code>X</code></td><td><code>\df+</code></td></tr><tr><td><code>FOREIGN DATA WRAPPER</code></td><td><code>U</code></td><td>none</td><td><code>\dew+</code></td></tr><tr><td><code>FOREIGN SERVER</code></td><td><code>U</code></td><td>none</td><td><code>\des+</code></td></tr><tr><td><code>LANGUAGE</code></td><td><code>U</code></td><td><code>U</code></td><td><code>\dL+</code></td></tr><tr><td><code>LARGE OBJECT</code></td><td><code>rw</code></td><td>none</td><td><code>\dl+</code></td></tr><tr><td><code>PARAMETER</code></td><td><code>sA</code></td><td>none</td><td><code>\dconfig+</code></td></tr><tr><td><code>SCHEMA</code></td><td><code>UC</code></td><td>none</td><td><code>\dn+</code></td></tr><tr><td><code>SEQUENCE</code></td><td><code>rwU</code></td><td>none</td><td><code>\dp</code></td></tr><tr><td><code>TABLE</code> (and table-like objects)</td><td><code>arwdDxt</code></td><td>none</td><td><code>\dp</code></td></tr><tr><td>Table column</td><td><code>arwx</code></td><td>none</td><td><code>\dp</code></td></tr><tr><td><code>TABLESPACE</code></td><td><code>C</code></td><td>none</td><td><code>\db+</code></td></tr><tr><td><code>TYPE</code></td><td><code>U</code></td><td><code>U</code></td><td><code>\dT+</code></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="58-行安全策略">5.8 行安全策略<a href="#58-行安全策略" class="hash-link" aria-label="5.8 行安全策略的直接链接" title="5.8 行安全策略的直接链接" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="59-schema">5.9 Schema<a href="#59-schema" class="hash-link" aria-label="5.9 Schema的直接链接" title="5.9 Schema的直接链接" translate="no">​</a></h4>
<p>PostgreSQL 数据库集群包含一个或多个命名数据库。角色和一些其他对象类型在整个集群中共享。与服务器的客户端连接只能访问单个数据库（连接请求中指定的数据库）中的数据。</p>
<p>数据库包含一个或多个命名架构，而这些 <em>架构</em> 又包含表。架构还包含其他类型的命名对象，包括数据类型、函数和运算符。相同的对象名称可以在不同的 schema 中使用，而不会发生冲突</p>
<p>与数据库不同，模式不是严格分离的：如果用户具有访问权限，则可以访问他们所连接的数据库中的任何模式中的对象。</p>
<p>架构类似于操作系统级别的目录，不同之处在于架构不能嵌套。</p>
<p>除了 <code>公共</code> 架构和用户创建的架构之外，每个数据库还包含一个 <code>pg_catalog</code> 架构，其中包含系统表和所有内置数据类型、函数和运算符。<code>pg_catalog</code> 始终是搜索路径的有效部分。如果未在路径中显式命名，则在搜索路径的架构_之前_会隐式搜索它。这可确保始终可找到内置名称。但是，如果您希望用户定义的名称覆盖内置名称，则可以将 <code>pg_catalog</code> 显式放在搜索路径的末尾。</p>
<p>在 SQL 标准中，不存在同一架构中的对象由不同用户拥有的概念。此外，某些实施不允许您创建名称与其所有者不同的架构。事实上，在仅实现标准中指定的基本架构支持的数据库系统中，schema 和 user 的概念几乎是等效的。<br>
<!-- -->SQL 标准中没有 <code>公共</code> 架构的概念</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="511-表分区">5.11 表分区<a href="#511-表分区" class="hash-link" aria-label="5.11 表分区的直接链接" title="5.11 表分区的直接链接" translate="no">​</a></h4>
<p>分区是指将逻辑上的一个大表拆分为较小的物理块</p>
<ul>
<li class="">范围分区</li>
<li class="">列表分区</li>
<li class="">哈希分区</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="6-数据操作">6. 数据操作<a href="#6-数据操作" class="hash-link" aria-label="6. 数据操作的直接链接" title="6. 数据操作的直接链接" translate="no">​</a></h3>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="7-查询">7. 查询<a href="#7-查询" class="hash-link" aria-label="7. 查询的直接链接" title="7. 查询的直接链接" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="72-表表达式">7.2 表表达式<a href="#72-表表达式" class="hash-link" aria-label="7.2 表表达式的直接链接" title="7.2 表表达式的直接链接" translate="no">​</a></h4>
<p>联接类型</p>
<ul>
<li class="">natural</li>
<li class="">cross</li>
<li class="">inner</li>
<li class="">outer<!-- -->
<ul>
<li class="">left</li>
<li class="">right</li>
<li class="">full</li>
</ul>
</li>
</ul>
<p>INNER 和 OUTER 这两个词在所有形式中都是可选的。INNER 是默认值;LEFT、RIGHT 和 FULL 表示外部联接。</p>
<p>内部联接的联接条件可以写在 <code>WHERE</code> 子句或 <code>JOIN</code> 子句中<br>
<code>FROM</code> 子句中的 <code>JOIN</code> 语法可能不适用于其他 SQL 数据库管理系统<br>
<!-- -->对于 outer joins，别无选择：它们必须在 <code>FROM</code> 子句中完成。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="8-数据类型">8. 数据类型<a href="#8-数据类型" class="hash-link" aria-label="8. 数据类型的直接链接" title="8. 数据类型的直接链接" translate="no">​</a></h3>
<table><thead><tr><th>Name</th><th>Aliases</th><th>Description</th></tr></thead><tbody><tr><td><code>bigint</code></td><td><code>int8</code></td><td>signed eight-byte integer</td></tr><tr><td><code>bigserial</code></td><td><code>serial8</code></td><td>autoincrementing eight-byte integer</td></tr><tr><td><code>bit [ (_`n`_) ]</code></td><td></td><td>fixed-length bit string</td></tr><tr><td><code>bit varying [ (_`n`_) ]</code></td><td><code>varbit [ (_`n`_) ]</code></td><td>variable-length bit string</td></tr><tr><td><code>boolean</code></td><td><code>bool</code></td><td>logical Boolean (true/false)</td></tr><tr><td><code>box</code></td><td></td><td>rectangular box on a plane</td></tr><tr><td><code>bytea</code></td><td></td><td>binary data (“byte array”)</td></tr><tr><td><code>character [ (_`n`_) ]</code></td><td><code>char [ (_`n`_) ]</code></td><td>fixed-length character string</td></tr><tr><td><code>character varying [ (_`n`_) ]</code></td><td><code>varchar [ (_`n`_) ]</code></td><td>variable-length character string</td></tr><tr><td><code>cidr</code></td><td></td><td>IPv4 or IPv6 network address</td></tr><tr><td><code>circle</code></td><td></td><td>circle on a plane</td></tr><tr><td><code>date</code></td><td></td><td>calendar date (year, month, day)</td></tr><tr><td><code>double precision</code></td><td><code>float8</code></td><td>double precision floating-point number (8 bytes)</td></tr><tr><td><code>inet</code></td><td></td><td>IPv4 or IPv6 host address</td></tr><tr><td><code>integer</code></td><td><code>int</code>, <code>int4</code></td><td>signed four-byte integer</td></tr><tr><td><code>interval [ _`fields`_ ] [ (_`p`_) ]</code></td><td></td><td>time span</td></tr><tr><td><code>json</code></td><td></td><td>textual JSON data</td></tr><tr><td><code>jsonb</code></td><td></td><td>binary JSON data, decomposed</td></tr><tr><td><code>line</code></td><td></td><td>infinite line on a plane</td></tr><tr><td><code>lseg</code></td><td></td><td>line segment on a plane</td></tr><tr><td><code>macaddr</code></td><td></td><td>MAC (Media Access Control) address</td></tr><tr><td><code>macaddr8</code></td><td></td><td>MAC (Media Access Control) address (EUI-64 format)</td></tr><tr><td><code>money</code></td><td></td><td>currency amount</td></tr><tr><td><code>numeric [ (_`p`_, _`s`_) ]</code></td><td><code>decimal [ (_`p`_, _`s`_) ]</code></td><td>exact numeric of selectable precision</td></tr><tr><td><code>path</code></td><td></td><td>geometric path on a plane</td></tr><tr><td><code>pg_lsn</code></td><td></td><td>PostgreSQL Log Sequence Number</td></tr><tr><td><code>pg_snapshot</code></td><td></td><td>user-level transaction ID snapshot</td></tr><tr><td><code>point</code></td><td></td><td>geometric point on a plane</td></tr><tr><td><code>polygon</code></td><td></td><td>closed geometric path on a plane</td></tr><tr><td><code>real</code></td><td><code>float4</code></td><td>single precision floating-point number (4 bytes)</td></tr><tr><td><code>smallint</code></td><td><code>int2</code></td><td>signed two-byte integer</td></tr><tr><td><code>smallserial</code></td><td><code>serial2</code></td><td>autoincrementing two-byte integer</td></tr><tr><td><code>serial</code></td><td><code>serial4</code></td><td>autoincrementing four-byte integer</td></tr><tr><td><code>text</code></td><td></td><td>variable-length character string</td></tr><tr><td><code>time [ (_`p`_) ] [ without time zone ]</code></td><td></td><td>time of day (no time zone)</td></tr><tr><td><code>time [ (_`p`_) ] with time zone</code></td><td><code>timetz</code></td><td>time of day, including time zone</td></tr><tr><td><code>timestamp [ (_`p`_) ] [ without time zone ]</code></td><td></td><td>date and time (no time zone)</td></tr><tr><td><code>timestamp [ (_`p`_) ] with time zone</code></td><td><code>timestamptz</code></td><td>date and time, including time zone</td></tr><tr><td><code>tsquery</code></td><td></td><td>text search query</td></tr><tr><td><code>tsvector</code></td><td></td><td>text search document</td></tr><tr><td><code>txid_snapshot</code></td><td></td><td>user-level transaction ID snapshot (deprecated; see <code>pg_snapshot</code>)</td></tr><tr><td><code>uuid</code></td><td></td><td>universally unique identifier</td></tr><tr><td><code>xml</code></td><td></td><td>XML data</td></tr></tbody></table>
<p>The following types (or spellings thereof) are specified by SQL: <code>bigint</code>, <code>bit</code>, <code>bit varying</code>, <code>boolean</code>, <code>char</code>, <code>character varying</code>, <code>character</code>, <code>varchar</code>, <code>date</code>, <code>double precision</code>, <code>integer</code>, <code>interval</code>, <code>numeric</code>, <code>decimal</code>, <code>real</code>, <code>smallint</code>, <code>time</code> (with or without time zone), <code>timestamp</code> (with or without time zone), <code>xml</code>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="数字类型">数字类型<a href="#数字类型" class="hash-link" aria-label="数字类型的直接链接" title="数字类型的直接链接" translate="no">​</a></h4>
<table><thead><tr><th>Name</th><th>Storage Size</th><th>Description</th><th>Range</th></tr></thead><tbody><tr><td><code>smallint</code></td><td>2 bytes</td><td>small-range integer</td><td>-32768 to +32767</td></tr><tr><td><code>integer</code></td><td>4 bytes</td><td>typical choice for integer</td><td>-2147483648 to +2147483647</td></tr><tr><td><code>bigint</code></td><td>8 bytes</td><td>large-range integer</td><td>-9223372036854775808 to +9223372036854775807</td></tr><tr><td><code>decimal</code></td><td>variable</td><td>user-specified precision, exact</td><td>up to 131072 digits before the decimal point; up to 16383 digits after the decimal point</td></tr><tr><td><code>numeric</code></td><td>variable</td><td>user-specified precision, exact</td><td>up to 131072 digits before the decimal point; up to 16383 digits after the decimal point</td></tr><tr><td><code>real</code></td><td>4 bytes</td><td>variable-precision, inexact</td><td>6 decimal digits precision</td></tr><tr><td><code>double precision</code></td><td>8 bytes</td><td>variable-precision, inexact</td><td>15 decimal digits precision</td></tr><tr><td><code>smallserial</code></td><td>2 bytes</td><td>small autoincrementing integer</td><td>1 to 32767</td></tr><tr><td><code>serial</code></td><td>4 bytes</td><td>autoincrementing integer</td><td>1 to 2147483647</td></tr><tr><td><code>bigserial</code></td><td>8 bytes</td><td>large autoincrementing integer</td><td>1 to 9223372036854775807</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="货币类型">货币类型<a href="#货币类型" class="hash-link" aria-label="货币类型的直接链接" title="货币类型的直接链接" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="字符类型">字符类型<a href="#字符类型" class="hash-link" aria-label="字符类型的直接链接" title="字符类型的直接链接" translate="no">​</a></h4>
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td><code>character varying(_`n`_)</code>, <code>varchar(_`n`_)</code></td><td>variable-length with limit</td></tr><tr><td><code>character(_`n`_)</code>, <code>char(_`n`_)</code>, <code>bpchar(_`n`_)</code></td><td>fixed-length, blank-padded</td></tr><tr><td><code>bpchar</code></td><td>variable unlimited length, blank-trimmed</td></tr><tr><td><code>text</code></td><td>variable unlimited length</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="二进制数据类型">二进制数据类型<a href="#二进制数据类型" class="hash-link" aria-label="二进制数据类型的直接链接" title="二进制数据类型的直接链接" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="日期时间类型">日期时间类型<a href="#日期时间类型" class="hash-link" aria-label="日期时间类型的直接链接" title="日期时间类型的直接链接" translate="no">​</a></h4>
<table><thead><tr><th>Name</th><th>Storage Size</th><th>Description</th><th>Low Value</th><th>High Value</th><th>Resolution</th></tr></thead><tbody><tr><td><code>timestamp [ (_`p`_) ] [ without time zone ]</code></td><td>8 bytes</td><td>both date and time (no time zone)</td><td>4713 BC</td><td>294276 AD</td><td>1 microsecond</td></tr><tr><td><code>timestamp [ (_`p`_) ] with time zone</code></td><td>8 bytes</td><td>both date and time, with time zone</td><td>4713 BC</td><td>294276 AD</td><td>1 microsecond</td></tr><tr><td><code>date</code></td><td>4 bytes</td><td>date (no time of day)</td><td>4713 BC</td><td>5874897 AD</td><td>1 day</td></tr><tr><td><code>time [ (_`p`_) ] [ without time zone ]</code></td><td>8 bytes</td><td>time of day (no date)</td><td>00:00:00</td><td>24:00:00</td><td>1 microsecond</td></tr><tr><td><code>time [ (_`p`_) ] with time zone</code></td><td>12 bytes</td><td>time of day (no date), with time zone</td><td>00:00:00+1559</td><td>24:00:00-1559</td><td>1 microsecond</td></tr><tr><td><code>interval [ _`fields`_ ] [ (_`p`_) ]</code></td><td>16 bytes</td><td>time interval</td><td>-178000000 years</td><td>178000000 years</td><td>1 microsecond</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="布尔类型">布尔类型<a href="#布尔类型" class="hash-link" aria-label="布尔类型的直接链接" title="布尔类型的直接链接" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="枚举类型">枚举类型<a href="#枚举类型" class="hash-link" aria-label="枚举类型的直接链接" title="枚举类型的直接链接" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="几何类型">几何类型<a href="#几何类型" class="hash-link" aria-label="几何类型的直接链接" title="几何类型的直接链接" translate="no">​</a></h4>
<table><thead><tr><th>Name</th><th>Storage Size</th><th>Description</th><th>Representation</th></tr></thead><tbody><tr><td><code>point</code></td><td>16 bytes</td><td>Point on a plane</td><td><code>(x,y)</code></td></tr><tr><td><code>line</code></td><td>24 bytes</td><td>Infinite line</td><td><code>{A,B,C}</code></td></tr><tr><td><code>lseg</code></td><td>32 bytes</td><td>Finite line segment</td><td><code>((x1,y1),(x2,y2))</code></td></tr><tr><td><code>box</code></td><td>32 bytes</td><td>Rectangular box</td><td><code>((x1,y1),(x2,y2))</code></td></tr><tr><td><code>path</code></td><td>16+16n bytes</td><td>Closed path (similar to polygon)</td><td><code>((x1,y1),...)</code></td></tr><tr><td><code>path</code></td><td>16+16n bytes</td><td>Open path</td><td><code>[(x1,y1),...]</code></td></tr><tr><td><code>polygon</code></td><td>40+16n bytes</td><td>Polygon (similar to closed path)</td><td><code>((x1,y1),...)</code></td></tr><tr><td><code>circle</code></td><td>24 bytes</td><td>Circle</td><td><code>&lt;(x,y),r&gt; (center point and radius)</code></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="网络地址类型">网络地址类型<a href="#网络地址类型" class="hash-link" aria-label="网络地址类型的直接链接" title="网络地址类型的直接链接" translate="no">​</a></h4>
<table><thead><tr><th>Name</th><th>Storage Size</th><th>Description</th></tr></thead><tbody><tr><td><code>cidr</code></td><td>7 or 19 bytes</td><td>IPv4 and IPv6 networks</td></tr><tr><td><code>inet</code></td><td>7 or 19 bytes</td><td>IPv4 and IPv6 hosts and networks</td></tr><tr><td><code>macaddr</code></td><td>6 bytes</td><td>MAC addresses</td></tr><tr><td><code>macaddr8</code></td><td>8 bytes</td><td>MAC addresses (EUI-64 format)</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="位字符串类型">位字符串类型<a href="#位字符串类型" class="hash-link" aria-label="位字符串类型的直接链接" title="位字符串类型的直接链接" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="文本搜索类型">文本搜索类型<a href="#文本搜索类型" class="hash-link" aria-label="文本搜索类型的直接链接" title="文本搜索类型的直接链接" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="uuid-类型">UUID 类型<a href="#uuid-类型" class="hash-link" aria-label="UUID 类型的直接链接" title="UUID 类型的直接链接" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="xml-类型">XML 类型<a href="#xml-类型" class="hash-link" aria-label="XML 类型的直接链接" title="XML 类型的直接链接" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="json-类型">JSON 类型<a href="#json-类型" class="hash-link" aria-label="JSON 类型的直接链接" title="JSON 类型的直接链接" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="数组">数组<a href="#数组" class="hash-link" aria-label="数组的直接链接" title="数组的直接链接" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="复合类型">复合类型<a href="#复合类型" class="hash-link" aria-label="复合类型的直接链接" title="复合类型的直接链接" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="范围类型">范围类型<a href="#范围类型" class="hash-link" aria-label="范围类型的直接链接" title="范围类型的直接链接" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="域类型">域类型<a href="#域类型" class="hash-link" aria-label="域类型的直接链接" title="域类型的直接链接" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="对象标识符类型">对象标识符类型<a href="#对象标识符类型" class="hash-link" aria-label="对象标识符类型的直接链接" title="对象标识符类型的直接链接" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="pg_lsn-类型">pg_lsn 类型<a href="#pg_lsn-类型" class="hash-link" aria-label="pg_lsn 类型的直接链接" title="pg_lsn 类型的直接链接" translate="no">​</a></h4>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="伪类型">伪类型<a href="#伪类型" class="hash-link" aria-label="伪类型的直接链接" title="伪类型的直接链接" translate="no">​</a></h4>
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td><code>any</code></td><td>Indicates that a function accepts any input data type.</td></tr><tr><td><code>anyelement</code></td><td>Indicates that a function accepts any data type (see <a href="https://www.postgresql.org/docs/current/extend-type-system.html#EXTEND-TYPES-POLYMORPHIC" target="_blank" rel="noopener noreferrer" title="38.2.5. Polymorphic Types" class="">Section 38.2.5</a>).</td></tr><tr><td><code>anyarray</code></td><td>Indicates that a function accepts any array data type (see <a href="https://www.postgresql.org/docs/current/extend-type-system.html#EXTEND-TYPES-POLYMORPHIC" target="_blank" rel="noopener noreferrer" title="38.2.5. Polymorphic Types" class="">Section 38.2.5</a>).</td></tr><tr><td><code>anynonarray</code></td><td>Indicates that a function accepts any non-array data type (see <a href="https://www.postgresql.org/docs/current/extend-type-system.html#EXTEND-TYPES-POLYMORPHIC" target="_blank" rel="noopener noreferrer" title="38.2.5. Polymorphic Types" class="">Section 38.2.5</a>).</td></tr><tr><td><code>anyenum</code></td><td>Indicates that a function accepts any enum data type (see <a href="https://www.postgresql.org/docs/current/extend-type-system.html#EXTEND-TYPES-POLYMORPHIC" target="_blank" rel="noopener noreferrer" title="38.2.5. Polymorphic Types" class="">Section 38.2.5</a> and <a href="https://www.postgresql.org/docs/current/datatype-enum.html" target="_blank" rel="noopener noreferrer" title="8.7. Enumerated Types" class="">Section 8.7</a>).</td></tr><tr><td><code>anyrange</code></td><td>Indicates that a function accepts any range data type (see <a href="https://www.postgresql.org/docs/current/extend-type-system.html#EXTEND-TYPES-POLYMORPHIC" target="_blank" rel="noopener noreferrer" title="38.2.5. Polymorphic Types" class="">Section 38.2.5</a> and <a href="https://www.postgresql.org/docs/current/rangetypes.html" target="_blank" rel="noopener noreferrer" title="8.17. Range Types" class="">Section 8.17</a>).</td></tr><tr><td><code>anymultirange</code></td><td>Indicates that a function accepts any multirange data type (see <a href="https://www.postgresql.org/docs/current/extend-type-system.html#EXTEND-TYPES-POLYMORPHIC" target="_blank" rel="noopener noreferrer" title="38.2.5. Polymorphic Types" class="">Section 38.2.5</a> and <a href="https://www.postgresql.org/docs/current/rangetypes.html" target="_blank" rel="noopener noreferrer" title="8.17. Range Types" class="">Section 8.17</a>).</td></tr><tr><td><code>anycompatible</code></td><td>Indicates that a function accepts any data type, with automatic promotion of multiple arguments to a common data type (see <a href="https://www.postgresql.org/docs/current/extend-type-system.html#EXTEND-TYPES-POLYMORPHIC" target="_blank" rel="noopener noreferrer" title="38.2.5. Polymorphic Types" class="">Section 38.2.5</a>).</td></tr><tr><td><code>anycompatiblearray</code></td><td>Indicates that a function accepts any array data type, with automatic promotion of multiple arguments to a common data type (see <a href="https://www.postgresql.org/docs/current/extend-type-system.html#EXTEND-TYPES-POLYMORPHIC" target="_blank" rel="noopener noreferrer" title="38.2.5. Polymorphic Types" class="">Section 38.2.5</a>).</td></tr><tr><td><code>anycompatiblenonarray</code></td><td>Indicates that a function accepts any non-array data type, with automatic promotion of multiple arguments to a common data type (see <a href="https://www.postgresql.org/docs/current/extend-type-system.html#EXTEND-TYPES-POLYMORPHIC" target="_blank" rel="noopener noreferrer" title="38.2.5. Polymorphic Types" class="">Section 38.2.5</a>).</td></tr><tr><td><code>anycompatiblerange</code></td><td>Indicates that a function accepts any range data type, with automatic promotion of multiple arguments to a common data type (see <a href="https://www.postgresql.org/docs/current/extend-type-system.html#EXTEND-TYPES-POLYMORPHIC" target="_blank" rel="noopener noreferrer" title="38.2.5. Polymorphic Types" class="">Section 38.2.5</a> and <a href="https://www.postgresql.org/docs/current/rangetypes.html" target="_blank" rel="noopener noreferrer" title="8.17. Range Types" class="">Section 8.17</a>).</td></tr><tr><td><code>anycompatiblemultirange</code></td><td>Indicates that a function accepts any multirange data type, with automatic promotion of multiple arguments to a common data type (see <a href="https://www.postgresql.org/docs/current/extend-type-system.html#EXTEND-TYPES-POLYMORPHIC" target="_blank" rel="noopener noreferrer" title="38.2.5. Polymorphic Types" class="">Section 38.2.5</a> and <a href="https://www.postgresql.org/docs/current/rangetypes.html" target="_blank" rel="noopener noreferrer" title="8.17. Range Types" class="">Section 8.17</a>).</td></tr><tr><td><code>cstring</code></td><td>Indicates that a function accepts or returns a null-terminated C string.</td></tr><tr><td><code>internal</code></td><td>Indicates that a function accepts or returns a server-internal data type.</td></tr><tr><td><code>language_handler</code></td><td>A procedural language call handler is declared to return <code>language_handler</code>.</td></tr><tr><td><code>fdw_handler</code></td><td>A foreign-data wrapper handler is declared to return <code>fdw_handler</code>.</td></tr><tr><td><code>table_am_handler</code></td><td>A table access method handler is declared to return <code>table_am_handler</code>.</td></tr><tr><td><code>index_am_handler</code></td><td>An index access method handler is declared to return <code>index_am_handler</code>.</td></tr><tr><td><code>tsm_handler</code></td><td>A tablesample method handler is declared to return <code>tsm_handler</code>.</td></tr><tr><td><code>record</code></td><td>Identifies a function taking or returning an unspecified row type.</td></tr><tr><td><code>trigger</code></td><td>A trigger function is declared to return <code>trigger.</code></td></tr><tr><td><code>event_trigger</code></td><td>An event trigger function is declared to return <code>event_trigger.</code></td></tr><tr><td><code>pg_ddl_command</code></td><td>Identifies a representation of DDL commands that is available to event triggers.</td></tr><tr><td><code>void</code></td><td>Indicates that a function returns no value.</td></tr><tr><td><code>unknown</code></td><td>Identifies a not-yet-resolved type, e.g., of an undecorated string literal.</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="9-函数和运算符">9. 函数和运算符<a href="#9-函数和运算符" class="hash-link" aria-label="9. 函数和运算符的直接链接" title="9. 函数和运算符的直接链接" translate="no">​</a></h3>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="10-类型转换">10. 类型转换<a href="#10-类型转换" class="hash-link" aria-label="10. 类型转换的直接链接" title="10. 类型转换的直接链接" translate="no">​</a></h3>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="11-索引">11. 索引<a href="#11-索引" class="hash-link" aria-label="11. 索引的直接链接" title="11. 索引的直接链接" translate="no">​</a></h3>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="12-全文搜索">12. 全文搜索<a href="#12-全文搜索" class="hash-link" aria-label="12. 全文搜索的直接链接" title="12. 全文搜索的直接链接" translate="no">​</a></h3>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="13-并发控制">13. 并发控制<a href="#13-并发控制" class="hash-link" aria-label="13. 并发控制的直接链接" title="13. 并发控制的直接链接" translate="no">​</a></h3>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="三-服务器管理">三. 服务器管理<a href="#三-服务器管理" class="hash-link" aria-label="三. 服务器管理的直接链接" title="三. 服务器管理的直接链接" translate="no">​</a></h2>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="四-客户端接口">四. 客户端接口<a href="#四-客户端接口" class="hash-link" aria-label="四. 客户端接口的直接链接" title="四. 客户端接口的直接链接" translate="no">​</a></h2>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="五-服务器编程">五. 服务器编程<a href="#五-服务器编程" class="hash-link" aria-label="五. 服务器编程的直接链接" title="五. 服务器编程的直接链接" translate="no">​</a></h2>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="六-参考资料">六. 参考资料<a href="#六-参考资料" class="hash-link" aria-label="六. 参考资料的直接链接" title="六. 参考资料的直接链接" translate="no">​</a></h2>
<p><a href="https://www.postgresql.org/docs/current/sql-commands.html" target="_blank" rel="noopener noreferrer" class="">PostgreSQL: Documentation: 16: SQL Commands</a></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="七-内部结构">七. 内部结构<a href="#七-内部结构" class="hash-link" aria-label="七. 内部结构的直接链接" title="七. 内部结构的直接链接" translate="no">​</a></h2>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="八-附录">八. 附录<a href="#八-附录" class="hash-link" aria-label="八. 附录的直接链接" title="八. 附录的直接链接" translate="no">​</a></h2>
<p><a href="https://www.postgresql.org/docs/current/sql-keywords-appendix.html" target="_blank" rel="noopener noreferrer" class="">PostgreSQL: Documentation: 16: Appendix C. SQL Key Words</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">最后<!-- -->于 <b><time datetime="2026-01-10T13:39:44.000Z" itemprop="dateModified">2026年1月10日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Computer/Storage/Database"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Database</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Computer/Storage/PostgreSQL"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">PostgreSQL</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#一-教程" class="table-of-contents__link toc-highlight">一. 教程</a><ul><li><a href="#1-入门" class="table-of-contents__link toc-highlight">1. 入门</a></li><li><a href="#2-sql-语言" class="table-of-contents__link toc-highlight">2. SQL 语言</a></li><li><a href="#3-高级功能" class="table-of-contents__link toc-highlight">3. 高级功能</a></li></ul></li><li><a href="#二-sql-语言" class="table-of-contents__link toc-highlight">二. SQL 语言</a><ul><li><a href="#4-sql-语法" class="table-of-contents__link toc-highlight">4. SQL 语法</a></li><li><a href="#5-数据定义" class="table-of-contents__link toc-highlight">5. 数据定义</a></li><li><a href="#6-数据操作" class="table-of-contents__link toc-highlight">6. 数据操作</a></li><li><a href="#7-查询" class="table-of-contents__link toc-highlight">7. 查询</a></li><li><a href="#8-数据类型" class="table-of-contents__link toc-highlight">8. 数据类型</a></li><li><a href="#9-函数和运算符" class="table-of-contents__link toc-highlight">9. 函数和运算符</a></li><li><a href="#10-类型转换" class="table-of-contents__link toc-highlight">10. 类型转换</a></li><li><a href="#11-索引" class="table-of-contents__link toc-highlight">11. 索引</a></li><li><a href="#12-全文搜索" class="table-of-contents__link toc-highlight">12. 全文搜索</a></li><li><a href="#13-并发控制" class="table-of-contents__link toc-highlight">13. 并发控制</a></li></ul></li><li><a href="#三-服务器管理" class="table-of-contents__link toc-highlight">三. 服务器管理</a></li><li><a href="#四-客户端接口" class="table-of-contents__link toc-highlight">四. 客户端接口</a></li><li><a href="#五-服务器编程" class="table-of-contents__link toc-highlight">五. 服务器编程</a></li><li><a href="#六-参考资料" class="table-of-contents__link toc-highlight">六. 参考资料</a></li><li><a href="#七-内部结构" class="table-of-contents__link toc-highlight">七. 内部结构</a></li><li><a href="#八-附录" class="table-of-contents__link toc-highlight">八. 附录</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 DZL1943. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>