"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[1686],{28453(e,n,t){t.d(n,{R:()=>o,x:()=>r});var i=t(96540);const a={},s=i.createContext(a);function o(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(s.Provider,{value:n},e.children)}},34461(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"Computer/Application/Emacs","title":"Emacs","description":"\u5feb\u6377\u952e","source":"@site/vault/docs/Computer/90_Application/Emacs.md","sourceDirName":"Computer/90_Application","slug":"/Computer/Application/Emacs","permalink":"/docs/Computer/Application/Emacs","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1768103139000,"frontMatter":{"modified":"2024-08-08 17:30","categories":"\u8f6f\u4ef6","url":["https://www.gnu.org/software/emacs/manual/index.html"],"date":"2024-07-26 11:13"},"sidebar":"computerSidebar","previous":{"title":"Docusaurus","permalink":"/docs/Computer/Application/Docusaurus"},"next":{"title":"Fcitx","permalink":"/docs/Computer/Application/Fcitx"}}');var a=t(74848),s=t(28453);const o={modified:"2024-08-08 17:30",categories:"\u8f6f\u4ef6",url:["https://www.gnu.org/software/emacs/manual/index.html"],date:"2024-07-26 11:13"},r=void 0,l={},d=[{value:"\u5feb\u6377\u952e",id:"\u5feb\u6377\u952e",level:2},{value:"\u914d\u7f6e",id:"\u914d\u7f6e",level:2},{value:"\u63d2\u4ef6",id:"\u63d2\u4ef6",level:2},{value:"Org mode",id:"org-mode",level:3},{value:"Eglot",id:"eglot",level:3},{value:"use-package",id:"use-package",level:3},{value:"evil",id:"evil",level:3},{value:"swiper",id:"swiper",level:3},{value:"Emacs Lisp",id:"emacs-lisp",level:2},{value:"Spacemacs",id:"spacemacs",level:2},{value:"Doom Emacs",id:"doom-emacs",level:2},{value:"\u95ee\u9898\u6280\u5de7",id:"\u95ee\u9898\u6280\u5de7",level:2},{value:"\u53c2\u8003",id:"\u53c2\u8003",level:2}];function c(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"\u5feb\u6377\u952e",children:"\u5feb\u6377\u952e"}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"[!tip]+ \u4fee\u9970\u952e"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"C: Control"}),"\n",(0,a.jsx)(n.li,{children:"M: Meta"}),"\n",(0,a.jsx)(n.li,{children:"S: Shift"}),"\n",(0,a.jsx)(n.li,{children:"ESC"}),"\n",(0,a.jsx)(n.li,{children:"s: Super/Command"}),"\n",(0,a.jsx)(n.li,{children:"H: Hyper"}),"\n",(0,a.jsx)(n.li,{children:"A: Alt"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://www.gnu.org/software/emacs/refcards/pdf/refcard.pdf",children:"https://www.gnu.org/software/emacs/refcards/pdf/refcard.pdf"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["C","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"g quit \u9000\u51fa\u8f93\u5165"}),"\n",(0,a.jsx)(n.li,{children:"p/n/b/f \u4e0a\u4e0b\u5de6\u53f3"}),"\n",(0,a.jsx)(n.li,{children:"a/e \u884c\u9996\u884c\u5c3e"}),"\n",(0,a.jsx)(n.li,{children:"k kill-line"}),"\n",(0,a.jsx)(n.li,{children:"r/s \u641c\u7d22 (C-M-r/s \u6b63\u5219\u641c\u7d22)"}),"\n",(0,a.jsx)(n.li,{children:"v scroll-up (\u53ef\u80fd\u88ab cua-mode \u8986\u76d6, M-v scroll-down)"}),"\n",(0,a.jsx)(n.li,{children:"w \u526a\u5207 (M-w \u590d\u5236)"}),"\n",(0,a.jsx)(n.li,{children:"y \u7c98\u8d34"}),"\n",(0,a.jsx)(n.li,{children:"/ undo"}),"\n",(0,a.jsx)(n.li,{children:"C-c"}),"\n",(0,a.jsxs)(n.li,{children:["C-h \u5e2e\u52a9 (\u6309 q \u53ef\u4ee5\u5173\u95ed\u4e34\u65f6\u7a97\u53e3)","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"b"}),"\n",(0,a.jsx)(n.li,{children:"f"}),"\n",(0,a.jsx)(n.li,{children:"k"}),"\n",(0,a.jsx)(n.li,{children:"m"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["C-x","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"0 delete-window"}),"\n",(0,a.jsx)(n.li,{children:"1 delete other-windows"}),"\n",(0,a.jsx)(n.li,{children:"2 split-window-below"}),"\n",(0,a.jsx)(n.li,{children:"3 split-window-right"}),"\n",(0,a.jsx)(n.li,{children:"o switch-window"}),"\n",(0,a.jsx)(n.li,{children:"d dired"}),"\n",(0,a.jsx)(n.li,{children:"h \u5168\u9009"}),"\n",(0,a.jsx)(n.li,{children:"b switch buffer (\u76f4\u63a5\u6309\u5de6\u53f3\u65b9\u5411\u952e\u53ef\u4ee5\u5feb\u901f\u5207\u6362)"}),"\n",(0,a.jsx)(n.li,{children:"k kill buffer"}),"\n",(0,a.jsx)(n.li,{children:"u undo"}),"\n",(0,a.jsx)(n.li,{children:"C-b list buffer"}),"\n",(0,a.jsx)(n.li,{children:"C-c \u4fdd\u5b58\u9000\u51fa"}),"\n",(0,a.jsx)(n.li,{children:"C-e eval"}),"\n",(0,a.jsx)(n.li,{children:"C-f find-file"}),"\n",(0,a.jsx)(n.li,{children:"C-q read-only-mode"}),"\n",(0,a.jsx)(n.li,{children:"C-s save"}),"\n",(0,a.jsx)(n.li,{children:"C-t transpose-lines"}),"\n",(0,a.jsx)(n.li,{children:"C-; comment-line"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["M","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"! shell-command"}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"<>"})," EOF/BOF"]}),"\n",(0,a.jsx)(n.li,{children:"% replace"}),"\n",(0,a.jsx)(n.li,{children:"M-x"}),"\n",(0,a.jsxs)(n.li,{children:["M-g","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"g goto-line"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"\u914d\u7f6e",children:"\u914d\u7f6e"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"https://www.gnu.org/software/emacs/manual/html_node/emacs/Init-File.html",children:"Init File (GNU Emacs Manual)"}),"\n",(0,a.jsx)(n.a,{href:"https://github.com/emacs-tw/awesome-emacs#starter-kit",children:"https://github.com/emacs-tw/awesome-emacs#starter-kit"})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/syl20bnr/spacemacs",children:"spacemacs"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/purcell/emacs.d",children:"purcell/emacs.d"})}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"https://github.com/bbatsov/prelude",children:"bbatsov/prelude"})," \u975e\u5e38\u7b80\u964b"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"https://github.com/doomemacs/doomemacs",children:"doomemacs"})," \u6a21\u5757\u5316, \u652f\u6301 evil, \u63d2\u4ef6\u90fd\u8981\u6e90\u7801\u4e0b\u8f7d\u540e\u7f16\u8bd1, \u5b89\u88c5\u5f88\u6162."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"https://github.com/seagle0128/.emacs.d",children:"Centaur Emacs"})," \u8fd8\u53ef\u4ee5, \u4e0d\u652f\u6301 evil"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lisp",children:';; ========== package and source config\n(setq package-archives \'(\n  ("gnu"   . "http://mirrors.tuna.tsinghua.edu.cn/elpa/gnu/")\n  ("melpa" . "http://mirrors.tuna.tsinghua.edu.cn/elpa/melpa/")\n))\n\n(when (version< emacs-version "27.0")\n  (package-initialize))\n\n(add-to-list \'load-path (expand-file-name "~/.emacs.d/lisp/"))\n\n;; (setq default-directory "~/org/")\n;; (setq user-full-name "user")\n;; (setq user-mail-address "user@mail.com")\n\n;; ========== basic config\n(setq debug-on-error t)\n;; \u8df3\u8fc7\u8d77\u59cb\u754c\u9762\n(setq inhibit-startup-message t)\n;; \u6e05\u9664 scratch \u4fe1\u606f\n(setq initial-scratch-message nil)\n;; \u5c06\u9ed8\u8ba4\u6a21\u5f0f\u66f4\u6539\u4e3a\u7eaf\u6587\u672c\n(setq initial-major-mode \'text-mode)\n(fset \'yes-or-no-p \'y-or-n-p)\n(setq ring-bell-function \'ignore\n      visible-bell nil)\n(setq help-window-select \'t)\n(ido-mode t)\n(global-auto-revert-mode t)\n(setq make-backup-files nil)\n(setq auto-save-default nil)\n(recentf-mode t)\n(setq recentf-max-menu-items 25)\n(setq recentf-max-saved-items 25)\n(global-set-key (kbd "C-x C-r") \'recentf-open-files)\n\n(show-paren-mode t)  ;; default t\n(electric-pair-mode t)\n(delete-selection-mode 1)  ;; ?\n;; (cua-mode t)\n(setq track-eol t)\n\n;; (prefer-coding-system \'cp950)\n;; (prefer-coding-system \'gb2312)\n;; (prefer-coding-system \'cp936)\n;; (prefer-coding-system \'gb18030)\n;; (prefer-coding-system \'utf-16)\n;; (prefer-coding-system \'utf-8-dos)\n;; (prefer-coding-system \'utf-8-unix)\n;; (set-language-environment \'Chinese-GB)\n;; (set-language-environment "UTF-8")\n(set-default-coding-systems \'utf-8)\n;; (set-terminal-coding-system  \'utf-8)\n;; (set-keyboard-coding-system  \'utf-8)\n;; (set-clipboard-coding-system \'utf-8)\n;; (set-selection-coding-system \'utf-8)\n;; (setq locale-coding-system   \'utf-8)\n;; (set-file-name-coding-system \'utf-8)\n;; (set-buffer-file-coding-system \'utf-8)\n;; (setq-default pathname-coding-system \'utf-8)\n;; (setq default-process-coding-system \'(utf-8 . utf-8))\n;; (modify-coding-system-alist \'process "*" \'utf-8)\n;;(add-to-list \'file-coding-system-alist \'("\\\\.org\\\\\'" . utf-8))\n\n(if (version<= "26.0.50" emacs-version)\n  (progn\n    (global-display-line-numbers-mode)\n    (setq-default display-line-numbers-type \'relative)\n    (setq-default display-line-numbers-width 2)\n    (set-face-background \'line-number "#2D3743")\n    (set-face-foreground \'line-number-current-line "yellow")\n  )\n  (progn\n    (global-linum-mode t)\n    (eval-after-load \'hideshow \'(define-key hs-minor-mode-map [left-margin mouse-1] \'hs-toggle-hiding))\n  )\n)\n;; (global-hl-line-mode t)\n(setq column-number-mode t)\n;; (add-hook \'window-configuration-change-hook (lambda () (ruler-mode 1)))\n(setq-default tab-width 4)\n(setq-default indent-tabs-mode nil)\n(setq-default fill-column 80)\n(add-hook \'prog-mode-hook #\'display-fill-column-indicator-mode)\n(add-hook \'prog-mode-hook #\'whitespace-mode)\n(setq-default whitespace-style \'(face tabs trailing newline empty tab-mark newline-mark))\n(add-hook \'prog-mode-hook \'hs-minor-mode)\n;; (setq hs-hide-comments nil)\n;; (setq hs-isearch-open \'x)\n\n;; ========== display config\n(if (window-system)\n  (progn\n    (setq default-frame-alist `(\n      (vertical-scroll-bars . nil)\n      (tool-bar-lines . 0)\n      (menu-bar-lines . 1)\n      (mouse-wheel-frame . t)\n      (cursor-type . bar)\n      (cursor-color . "green")\n    ))\n    (setq initial-frame-alist `(\n      (top . 20) (left . 150)\n      ;; (width . 92) (height . ,(/ (- (x-display-pixel-height) 140) (frame-char-height)))\n      (width . (text-pixels . ,(round (* (x-display-pixel-width) 0.72)))) (height . (text-pixels . ,(round (* (x-display-pixel-height) 0.84))))\n    ))\n    (when (eq system-type \'darwin)\n      ;; bugfix\n      (setq image-types (cons \'svg image-types))\n      (set-face-attribute \'default nil :height 180)\n      (set-fontset-font t \'symbol (font-spec :family "Apple Color Emoji") nil \'prepend)\n      (add-to-list \'default-frame-alist \'(ns-transparent-titlebar . t))\n      (add-to-list \'default-frame-alist \'(ns-appearance . dark))\n    )\n    ;; (when (eq system-type \'windows-nt)\n    ;;   (setq fonts \'("Consolas" "\u5fae\u8f6f\u96c5\u9ed1"))\n    ;;   (set-fontset-font t \'unicode "Segoe UI Emoji" nil \'prepend)\n    ;;   (set-face-attribute \'default nil :font\n    ;;                       (format "%s:pixelsize=%d" (car fonts) 24)))\n    ;; (when (eq system-type \'gnu/linux)\n    ;;   (setq fonts \'("SF Mono" "Noto Sans Mono CJK SC"))\n    ;;   (set-fontset-font t \'unicode "Noto Color Emoji" nil \'prepend)\n    ;;   (set-face-attribute \'default nil :font\n    ;;                       (format "%s:pixelsize=%d" (car fonts) 24)))\n    (load-theme \'misterioso\' t)\n    (global-tab-line-mode 1)\n    ;; (set-face-attribute \'tab-line nil :background "#2D3743" :foreground "white" :box nil)\n    ;; (set-face-attribute \'tab-line-tab-inactive nil :background "#2D3743" :foreground "white" :box nil)\n    ;; (set-face-attribute \'tab-line-tab-current nil :background "white" :foreground "blue" :box nil)\n    ;; (set-face-attribute \'region nil :background "#6B8E23" :foreground "white")\n\n    (custom-theme-set-faces\n      \'misterioso\n      \'(tab-line ((t (:background "#2D3743" :foreground "white" :box nil))))\n      \'(tab-line-tab-inactive ((t (:background "#2D3743" :foreground "white" :box nil))))\n      \'(tab-line-tab-current ((t (:background "white" :foreground "blue" :box nil))))\n      \'(region ((t (:background "#6B8E23" :foreground "white"))))\n      \'(cursor ((t (:background "green"))))\n    )\n    (enable-theme \'misterioso)\n\n    (set-frame-parameter nil \'alpha 85)\n    (add-hook \'text-mode-hook (lambda () (text-scale-increase 2)))\n  )\n  (progn\n    ;; (xterm-mouse-mode 1)\n    (mouse-wheel-mode 1)\n    (menu-bar-mode -1)\n    (global-hl-line-mode -1)\n    (load-theme \'tango-dark\' t)\n  )\n)\n\n;; ========== other\n;; (setq scroll-margin 3\n;;       scroll-step 1\n;;       scroll-conservatively 10000)\n;; (setq mouse-wheel-scroll-amout \'(1 ((shift) . 1)))\n;; (setq mouse-wheel-progressive-speed nil)\n;; (setq mouse-wheel-follow-mouse \'t)\n(mouse-avoidance-mode \'animate)\n\n(display-time-mode t)\n(setq display-time-day-and-date t)\n;; (setq display-time-24hr-format t)\n;; (setq calendar-longitude 116)\n;; (setq calendar-latitude 40)\n;; (setq calendar-location-name "Beijing")\n;; (setq calendar-time-zone 480)\n;; (setq calendar-standard-time-zone-name "CST")\n;; (setq calendar-daylight-time-zone-name "CDT")\n(setq calendar-week-start-day 1)\n(setq calendar-chinese-all-holidays-flag t)\n(setq diary-file "~/.emacs.d/diary")\n(setq calendar-view-diary-initially-flag t\n      calendar-mark-diary-entries-flag t\n      calendar-mark-holidays-flag t\n      number-of-diary-entries 7)\n(add-hook \'diary-display-hook \'fancy-diary-display)\n(add-hook \'diary-list-entries-hook \'diary-sort-entries t)\n(add-hook \'today-visible-calendar-hook \'calendar-mark-today)\n(global-set-key (kbd "C-c C") \'calendar)\n(global-set-key (kbd "C-c c") \'org-capture)\n(global-set-key (kbd "C-c a") \'org-agenda)\n(global-set-key (kbd "ESC ESC") \'view-mode)  ;; c-x c-q readonly mode\n\n(global-set-key (kbd "C-c I") (lambda()(interactive)(find-file "~/.emacs.d/init.el")))\n;; toggle transparency\n(global-set-key (kbd "C-c 0") (lambda()(interactive)(set-frame-parameter nil \'alpha (if (equal (frame-parameter nil \'alpha) 85) 100 85))))\n\n;; org\n(with-eval-after-load \'org\n  (setq org-adapt-indentation nil)\n  (setq org-src-fontify-natively t)\n  (setq org-startup-truncated nil)\n  (setq org-startup-folded t)\n  ;; (setq org-startup-numerated t)\n  (setq org-startup-with-inline-images t)\n  (setq org-agenda-include-diary t)\n  (setq org-directory "~/org/"\n        org-agenda-files \'("~/org/" "~/org/journal/")\n        org-default-notes-file (concat org-directory "/notes.org"))\n  ;; (setq org-todo-keywords \'((sequence "TODO" "DOING" "BLOCK" "|" "DONE")))\n  ;; (setq org-stuck-projects \'("+PROJECT/-DONE" ("TODO" "NEXT") nil ""))\n  ;; (setq org-capture-templates\n  ;; \'(("t" "Todo" entry (file+headline "~/org/gtd.org" "Tasks") "* TODO %?\\n  %i\\n  %a")\n  ;;   ("j" "Journal" entry (file+datetree "~/org/journal.org") "* %?\\nEntered on %U\\n  %i\\n  %a")))\n  (add-to-list \'org-src-lang-modes \'("plantuml" . plantuml))\n  (setq org-src-tab-acts-natively t)\n  (org-babel-do-load-languages \'org-babel-load-languages \'((emacs-lisp . t) (shell . t) (python . t))))\n\n(progn\n  (require \'comint)\n  (setq comint-process-echoes t)\n  (define-key comint-mode-map (kbd "<up>") \'comint-previous-input)\n  (define-key comint-mode-map (kbd "<down>") \'comint-next-input))\n\n;; ========== plugin config\n(unless (package-installed-p \'use-package)\n  (package-refresh-contents)\n  (package-install \'use-package)\n  (eval-when-compile\n    (require \'use-package)\n    (setq use-package-always-ensure t)\n    (setq use-package-always-defer t)\n    (setq use-package-always-demand nil)\n    (setq use-package-expand-minimally t)\n    (setq use-package-verbose t)))\n\n(use-package auto-package-update\n  :disabled t\n  :config\n  (setq auto-package-update-delete-old-versions t)\n  (setq auto-package-update-hide-results t)\n  (auto-package-update-maybe))\n\n(use-package exec-path-from-shell\n  :init\n  (exec-path-from-shell-initialize))\n\n(use-package org-autolist\n  :hook (org-mode . org-autolist-mode))\n\n(use-package ivy\n  :init\n  (ivy-mode t)\n  :config\n  (setq ivy-use-virtual-buffers t)\n  (setq enable-recursive-minibuffers t)\n  ;; enable this if you want `swiper\' to use it\n  ;; (setq search-default-mode #\'char-fold-to-regexp)\n  (global-set-key "\\C-s" \'swiper)\n  (global-set-key (kbd "C-c C-r") \'ivy-resume)\n  (global-set-key (kbd "<f6>") \'ivy-resume)\n  (global-set-key (kbd "M-x") \'counsel-M-x)\n  (global-set-key (kbd "C-x C-f") \'counsel-find-file)\n  (global-set-key (kbd "<f1> f") \'counsel-describe-function)\n  (global-set-key (kbd "<f1> v") \'counsel-describe-variable)\n  (global-set-key (kbd "<f1> o") \'counsel-describe-symbol)\n  (global-set-key (kbd "<f1> l") \'counsel-find-library)\n  (global-set-key (kbd "<f2> i") \'counsel-info-lookup-symbol)\n  (global-set-key (kbd "<f2> u") \'counsel-unicode-char)\n  (global-set-key (kbd "C-c g") \'counsel-git)\n  ;; (global-set-key (kbd "C-c j") \'counsel-git-grep)\n  (global-set-key (kbd "C-c k") \'counsel-ag)\n  (global-set-key (kbd "C-x l") \'counsel-locate)\n  (global-set-key (kbd "C-S-o") \'counsel-rhythmbox)\n  (define-key minibuffer-local-map (kbd "C-r") \'counsel-minibuffer-history))\n\n(use-package counsel\n  :bind (("M-x" . counsel-M-x)))\n\n(use-package swiper\n  :requires (ivy counsel)\n  :bind (("M-s" . counsel-grep-or-swiper)))\n\n(use-package imenu-list\n  :init\n  (global-set-key (kbd "C-\'") #\'imenu-list-smart-toggle)\n  (setq imenu-list-position \'right)\n  (setq imenu-list-size 0.2)\n  (setq imenu-list-auto-resize nil)\n  (setq imenu-list-focus-after-activation nil)\n  (setq imenu-list-after-jump-hook nil)\n  ;; (imenu-list-minor-mode)\n  )\n\n;; (use-package evil\n;;   :disabled t\n;;   :init\n;;   (setq evil-want-integration t) ;; This is optional since it\'s already set to t by default.\n;;   (setq evil-want-keybinding nil)\n;;   ;; (add-hook \'prog-mode-hook \'evil-mode)\n;;   :config\n;;   ;; (evil-mode 1)\n;;   ;; default key is C-z\n;;   (setq evil-default-state \'emacs)\n;;   (setq evil-emacs-state-cursor \'("SkyBlue2" bar)))\n\n;; (use-package evil-collection\n;;   :after evil\n;;   :config\n;;   (evil-collection-init))\n\n(use-package which-key\n  :init\n  (which-key-mode)\n  :config\n  ;; Allow C-h to trigger which-key before it is done automatically\n  (setq which-key-show-early-on-C-h t)\n  ;; make sure which-key doesn\'t show normally but refreshes quickly after it is\n  ;; triggered.\n  ;; (setq which-key-idle-delay 10000)\n  (setq which-key-idle-secondary-delay 0.05)\n  (setq which-key-popup-type \'side-window)\n  (setq which-key-side-window-location \'(bottom, right))\n  (setq which-key-side-window-max-width 0.33)\n  (setq which-key-side-window-max-height 0.25)\n  (define-key help-map "\\C-h" \'which-key-C-h-dispatch))\n\n(use-package company\n  :init\n  (add-hook \'after-init-hook \'global-company-mode))\n\n(use-package smartparens\n  :init\n  (add-hook \'prog-mode-hook \'smartparens-mode))\n\n(use-package rainbow-delimiters\n  :init\n  (add-hook \'prog-mode-hook \'rainbow-delimiters-mode)\n  :custom-face\n  (rainbow-delimiters-base-face ((t (:inherit nil))))\n  (rainbow-delimiters-depth-1-face ((t (:foreground "red"))))\n  (rainbow-delimiters-depth-2-face ((t (:foreground "orange"))))\n  (rainbow-delimiters-depth-3-face ((t (:foreground "forest green"))))\n  (rainbow-delimiters-depth-4-face ((t (:foreground "dodger blue"))))\n  (rainbow-delimiters-depth-5-face ((t (:foreground "deep pink"))))\n  (rainbow-delimiters-depth-6-face ((t (:foreground "dark turquoise"))))\n  (rainbow-delimiters-depth-7-face ((t (:foreground "tomato1"))))\n  (rainbow-delimiters-depth-8-face ((t (:foreground "PaleVioletRed1"))))\n  (rainbow-delimiters-depth-9-face ((t (:foreground "SeaGreen1")))))\n\n(use-package flycheck\n  :init\n  (add-hook \'after-init-hook \'global-flycheck-mode))\n\n(use-package eglot\n  :ensure t\n  :commands (eglot eglot-ensure)\n  :hook ((python-mode . eglot-ensure)\n         (rust-mode . eglot-ensure))\n  :config\n  (setq eglot-strict-mode nil)\n  (setq eglot-confirm-server-initiated-edits nil)\n  (add-to-list \'eglot-server-programs \'(rust-mode "rust-analyzer")))\n\n(use-package smart-mode-line\n  :init\n  (setq sml/no-confirm-load-theme t)\n  (sml/setup))\n\n;; (use-package dashboard\n;;   :init\n;;   (dashboard-setup-startup-hook)\n;; )\n\n(use-package highlight-indentation\n  :init\n  ;; (add-hook \'prog-mode-hook \'highlight-indentation-mode)\n  (add-hook \'prog-mode-hook \'highlight-indentation-current-column-mode)\n  :config\n  (set-face-background \'highlight-indentation-face "#e3e3d3")\n  (set-face-background \'highlight-indentation-current-column-face "#c3b3b3"))\n\n(use-package format-all)\n\n(use-package right-click-context\n  :init\n  (right-click-context-mode 1)\n  :config\n  (setq right-click-context-mode-lighter ""))\n\n(use-package drag-stuff\n  :init\n  (drag-stuff-global-mode 1)\n  :config\n  (drag-stuff-define-keys))\n\n(use-package easy-kill\n  :init\n  (global-set-key [remap kill-ring-save] \'easy-kill))\n\n(use-package valign\n  :if window-system\n  :init\n  (add-hook \'org-mode-hook #\'valign-mode))\n\n(use-package scratch)\n\n(use-package org-journal\n  :init\n  ;; Change default prefix key; needs to be set before loading org-journal\n  (setq org-journal-prefix-key "C-c j")\n  :config\n  (setq org-journal-dir "~/org/journal/"\n        org-journal-file-format "%Y-%m-%d.org"\n        org-journal-file-type \'monthly\n        org-journal-enable-agenda-integration t\n        org-journal-carryover-items ""\n        org-journal-date-format "%A, %Y/%m/%d"))\n\n(use-package org-brain\n  :init\n  (setq org-brain-path "~/org/brain/")\n  (global-set-key (kbd "C-c b") \'org-brain-visualize)\n  ;; For Evil users\n  (with-eval-after-load \'evil\n    (evil-set-initial-state \'org-brain-visualize-mode \'emacs))\n  :config\n  (bind-key "C-c b" \'org-brain-prefix-map org-mode-map)\n  (setq org-id-track-globally t)\n  (setq org-id-locations-file "~/.emacs.d/.org-id-locations")\n  (add-hook \'before-save-hook #\'org-brain-ensure-ids-in-buffer)\n  ;; (push \'("b" "Brain" plain (function org-brain-goto-end)\n  ;;         "* %i%?" :empty-lines 1)\n  ;;       org-capture-templates)\n  (setq org-brain-visualize-default-choices \'all)\n  (setq org-brain-title-max-length 12)\n  (setq org-brain-include-file-entries nil\n        org-brain-file-entries-use-title nil))\n\n;; Allows you to edit entries directly from org-brain-visualize\n(use-package polymode\n  :config\n  (add-hook \'org-brain-visualize-mode-hook #\'org-brain-polymode))\n\n(use-package org-roam\n  :disabled t\n  :custom\n  (org-roam-directory (file-truename "~/org/roam/"))\n  :bind (("C-c n l" . org-roam-buffer-toggle)\n         ("C-c n f" . org-roam-node-find)\n         ("C-c n g" . org-roam-graph)\n         ("C-c n i" . org-roam-node-insert)\n         ("C-c n c" . org-roam-capture)\n         ;; Dailies\n         ("C-c n j" . org-roam-dailies-capture-today))\n  :config\n  (org-roam-db-autosync-mode)\n  ;; If using org-roam-protocol\n  (require \'org-roam-protocol))\n\n(use-package yasnippet\n  :disabled\n  :config\n  (add-to-list \'yas-snippet-dirs "~/.emacs.d/snippets")\n  (yas-global-mode 1))\n\n(use-package magit\n  :bind ("C-x g" . magit-status))\n\n(use-package markdown-mode\n  :commands (markdown-mode gfm-mode)\n  :mode (("README\\\\.md\\\\\'" . gfm-mode)\n         ("\\\\.md\\\\\'" . markdown-mode)\n         ("\\\\.markdown\\\\\'" . markdown-mode))\n  :init (setq markdown-command "multimarkdown"))\n\n(use-package grip-mode\n  ;; :hook ((markdown-mode org-mode) . grip-mode)\n  :config\n  (setq grip-binary-path "/opt/homebrew/bin/grip")\n  (setq grip-preview-use-webkit t))\n\n(use-package plantuml-mode\n  :config\n  (setq plantuml-jar-path "~/opt/plantuml.jar")\n  (setq plantuml-default-exec-mode \'jar)\n  :mode (("\\\\.plantuml\\\\\'" . plantuml-mode))\n  )\n\n(use-package org-mind-map\n  :init\n  (require \'ox-org)\n  :ensure t\n  ;; Uncomment the below if \'ensure-system-packages` is installed\n  ;;:ensure-system-package (gvgen . graphviz)\n  :config\n  (setq org-mind-map-engine "dot")       ; Default. Directed Graph\n  ;; (setq org-mind-map-engine "neato")  ; Undirected Spring Graph\n  ;; (setq org-mind-map-engine "twopi")  ; Radial Layout\n  ;; (setq org-mind-map-engine "fdp")    ; Undirected Spring Force-Directed\n  ;; (setq org-mind-map-engine "sfdp")   ; Multiscale version of fdp for the layout of large graphs\n  ;; (setq org-mind-map-engine "twopi")  ; Radial layouts\n  ;; (setq org-mind-map-engine "circo")  ; Circular Layout\n  )\n\n(use-package vimrc-mode\n  :init\n  (add-to-list \'auto-mode-alist \'("\\\\.vim\\\\(rc\\\\)?\\\\\'" . vimrc-mode)))\n\n(use-package json-mode\n  :ensure t)\n\n(use-package lua-mode\n  :config\n  (setq lua-indent-level 4))\n\n(use-package rust-mode\n  :ensure t\n  :mode ("\\\\.rs\\\\\'" . rust-mode))\n\n(use-package scala-mode)\n\n;; (use-package pcre2el)\n\n(use-package slime\n  :config\n  (setq inferior-lisp-program "sbcl"))\n\n(use-package geiser-guile)\n\n;; https://stackoverflow.com/questions/2249955/emacs-shift-tab-to-left-shift-the-block\n(defun indent-region-custom(numSpaces)\n  (progn\n    ;; default to start and end of current line\n    (setq regionStart (line-beginning-position))\n    (setq regionEnd (line-end-position))\n    ;; if there\'s a selection, use that instead of the current line\n    (when (use-region-p)\n      (setq regionStart (region-beginning))\n      (setq regionEnd (region-end)))\n\n    (save-excursion ; restore the position afterwards\n      (goto-char regionStart) ; go to the start of region\n      (setq start (line-beginning-position)) ; save the start of the line\n      (goto-char regionEnd) ; go to the end of region\n      (setq end (line-end-position)) ; save the end of the line\n\n      (indent-rigidly start end numSpaces) ; indent between start and end\n      (setq deactivate-mark nil) ; restore the selected region\n      )))\n\n(defun untab-region (N)\n  (interactive "p")\n  (indent-region-custom -4))\n\n(defun tab-region (N)\n  (interactive "p")\n  (if (active-minibuffer-window)\n      (minibuffer-complete)    ; tab is pressed in minibuffer window -> do completion\n    (if (use-region-p)    ; tab is pressed is any other buffer -> execute with space insertion\n        (indent-region-custom 4) ; region was selected, call indent-region-custom\n      (insert "    ") ; else insert four spaces as expected\n      )))\n\n(defun my/hack-tab-key ()\n  (interactive)\n  (local-set-key (kbd "<tab>") \'tab-region)\n  (local-set-key (kbd "<backtab>") \'untab-region))\n(custom-set-variables\n ;; custom-set-variables was added by Custom.\n ;; If you edit it by hand, you could mess it up, so be careful.\n ;; Your init file should contain only one such instance.\n ;; If there is more than one, they won\'t work right.\n \'(package-selected-packages\n   \'(geiser-guile slime scala-mode rust-mode lua-mode json-mode vimrc-mode org-mind-map plantuml-mode grip-mode markdown-mode magit polymode org-brain org-journal scratch valign easy-kill drag-stuff right-click-context format-all highlight-indentation smart-mode-line eglot flycheck rainbow-delimiters smartparens company which-key imenu-list counsel ivy exec-path-from-shell use-package)))\n(custom-set-faces\n ;; custom-set-faces was added by Custom.\n ;; If you edit it by hand, you could mess it up, so be careful.\n ;; Your init file should contain only one such instance.\n ;; If there is more than one, they won\'t work right.\n )\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u63d2\u4ef6",children:"\u63d2\u4ef6"}),"\n",(0,a.jsx)(n.h3,{id:"org-mode",children:(0,a.jsx)(n.a,{href:"https://www.gnu.org/software/emacs/manual/org.html",children:"Org mode"})}),"\n",(0,a.jsx)(n.h3,{id:"eglot",children:"Eglot"}),"\n",(0,a.jsx)(n.h3,{id:"use-package",children:(0,a.jsx)(n.a,{href:"https://www.gnu.org/software/emacs/manual/use-package.html",children:"use-package"})}),"\n",(0,a.jsx)(n.h3,{id:"evil",children:(0,a.jsx)(n.a,{href:"https://github.com/emacs-evil/evil",children:"evil"})}),"\n",(0,a.jsx)(n.h3,{id:"swiper",children:(0,a.jsx)(n.a,{href:"https://github.com/abo-abo/swiper",children:"swiper"})}),"\n",(0,a.jsx)(n.h2,{id:"emacs-lisp",children:"Emacs Lisp"}),"\n",(0,a.jsx)(n.h2,{id:"spacemacs",children:"Spacemacs"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://github.com/syl20bnr/spacemacs",children:"https://github.com/syl20bnr/spacemacs"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"[ -d $HOME/.emacs.d ] && mv $HOME/.emacs.d $HOME/.emacs.d.bak\n[ -f $HOME/.emacs.el ] && mv $HOME/.emacs.el .emacs.el.bak\n[ -f $HOME/.emacs ] && mv $HOME/.emacs $HOME/.emacs.bak\n\ngit clone https://github.com/syl20bnr/spacemacs $HOME/.emacs.d\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u4e09\u79cd\u6a21\u5f0f:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Vim"}),"\n",(0,a.jsx)(n.li,{children:"Emacs"}),"\n",(0,a.jsx)(n.li,{children:"Hybrid"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["\u6a21\u5f0f\u5207\u6362:",(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.code,{children:"C-z"})," \u4ec5\u5728\u5f53\u524d buffer \u4e34\u65f6\u4ece evil \u5207\u6362\u5230 emacs \u6a21\u5f0f\n",(0,a.jsx)(n.code,{children:"SPC t E"})," \u4ece evil \u6a21\u5f0f\u5207\u6362\n",(0,a.jsx)(n.code,{children:"M-m t E"})," \u4ece emacs \u6a21\u5f0f\u5207\u6362"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:'(global-set-key (kbd "<f9>") \'holy-mode)'})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"https://www.spacemacs.org/doc/DOCUMENTATION.html#dotfile-configuration",children:"Spacemacs documentation"}),"\n",(0,a.jsx)(n.a,{href:"https://www.spacemacs.org/layers/LAYERS.html#general-purpose",children:"Spacemacs layers list"})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["layers","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["dotspacemacs-configuration-layers","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lisp",children:"(tabs :variables tabs-icons nil)\nmarkdown\n(conda :variables conda-anaconda-home \"~/opt/miniconda3\")\n(python :variables python-backend 'anaconda python-virtualenv-management 'pet python-enable-tools '(uv))\njavascript\nemacs-lisp\ncommon-lisp\nclojure\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["init","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://www.spacemacs.org/doc/DOCUMENTATION.html#editing-styles",children:"dotspacemacs-editing-style"})}),"\n",(0,a.jsx)(n.li,{children:"dotspacemacs-startup-lists"}),"\n",(0,a.jsx)(n.li,{children:"dotspacemacs-new-empty-buffer-major-mode"}),"\n",(0,a.jsx)(n.li,{children:"dotspacemacs-scratch-mode"}),"\n",(0,a.jsx)(n.li,{children:"dotspacemacs-themes"}),"\n",(0,a.jsx)(n.li,{children:"dotspacemacs-mode-line-theme"}),"\n",(0,a.jsx)(n.li,{children:"dotspacemacs-default-font"}),"\n",(0,a.jsx)(n.li,{children:"dotspacemacs-maximized-at-startup"}),"\n",(0,a.jsx)(n.li,{children:"dotspacemacs-line-numbers"}),"\n",(0,a.jsx)(n.li,{children:"dotspacemacs-frame-title-format"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.li,{children:"user-env"}),"\n",(0,a.jsxs)(n.li,{children:["user-init","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lisp",children:'(setq configuration-layer-elpa-archives\n      \'(("melpa-cn" . "https://mirrors.tuna.tsinghua.edu.cn/elpa/melpa/")\n        ("org-cn"   . "https://mirrors.tuna.tsinghua.edu.cn/elpa/org/")\n        ("gnu-cn"   . "https://mirrors.tuna.tsinghua.edu.cn/elpa/gnu/")))\n'})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["user-config","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lisp",children:'(when (window-system)\n  ;; \u57fa\u7840\u7a97\u53e3\u5c3a\u5bf8\u8bbe\u7f6e\n  (setq initial-frame-alist\n        `((top    . 20)\n          (left   . 150)\n          (width  . (text-pixels . ,(round (* (x-display-pixel-width) 0.72))))\n          (height . (text-pixels . ,(round (* (x-display-pixel-height) 0.84))))))\n\n  ;; \u7a97\u53e3\u900f\u660e\u5ea6\u8bbe\u7f6e\n  ;;(set-frame-parameter nil \'alpha 90)\n\n  ;; macOS \u7279\u5b9a\u8bbe\u7f6e\n  (when (eq system-type \'darwin)\n    (add-to-list \'default-frame-alist \'(ns-transparent-titlebar . t))\n    (add-to-list \'default-frame-alist \'(ns-appearance . dark)))\n  \n  ;; \u5168\u5c40\u6807\u7b7e\u680f\n  ;;(global-tab-line-mode 1)\n  )\n;; \u4e3b\u9898\u81ea\u5b9a\u4e49\n(custom-theme-set-faces\n  \'misterioso\n  \'(tab-line             ((t (:background "#2D3743" :foreground "white" :box nil))))\n  \'(tab-line-tab-inactive ((t (:background "#2D3743" :foreground "white" :box nil))))\n  \'(tab-line-tab-current  ((t (:background "white" :foreground "blue" :box nil))))\n  \'(region               ((t (:background "#6B8E23" :foreground "white"))))\n  \'(cursor               ((t (:background "green")))))\n(enable-theme \'misterioso)\n\n(setq evil-emacs-state-cursor \'("green" bar))\n(spacemacs/toggle-transparency)\n\n(setq evil-emacs-state-cursor \'("green" (bar . 2))\n  evil-hybrid-state-cursor  \'("yellow" (bar . 2))\n)\n\n(defun osc52-copy (text &optional push)\n  "Send TEXT to terminal via OSC52."\n  (when (and text (not (display-graphic-p)))\n    (let ((base64-text (base64-encode-string (encode-coding-string text \'utf-8 t) t)))\n      (send-string-to-terminal (format "\\033]52;c;%s\\a" base64-text))\n      (send-string-to-terminal (format "\\033]52;p;%s\\a" base64-text)))))\n\n(setq interprogram-cut-function \'osc52-copy)\n\n(load (expand-file-name "~/.quicklisp/slime-helper.el"))\n(setq inferior-lisp-program "sbcl")\n\n(global-set-key (kbd "<f9>") \'holy-mode)\n'})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"doom-emacs",children:"Doom Emacs"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://github.com/doomemacs/doomemacs",children:"https://github.com/doomemacs/doomemacs"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lisp",metastring:"title:doom/config.el",children:";; M-x nerd-icons-install-fonts\n(setq doom-font (font-spec :family \"Hack Nerd Font\" :size 20 :weight 'semi-light)\n)\n(setq doom-theme 'doom-one)\n(setq display-line-numbers-type 'relative)\n(global-visual-line-mode t)\n\n(setq org-directory \"~/org/\")\n(setq default-directory \"~/org/\")\n\n(when (display-graphic-p)\n  (setq initial-frame-alist `(\n    (top . 20) (left . 150)\n    (width . (text-pixels . ,(round (* (x-display-pixel-width) 0.72))))\n    (height . (text-pixels . ,(round (* (x-display-pixel-height) 0.84))))\n  ))\n  (set-frame-parameter nil 'alpha 85)\n  (global-tab-line-mode 1)\n  ;; :ui tabs not display, https://github.com/doomemacs/doomemacs/issues/6280\n  (after! centaur-tabs\n    (centaur-tabs-group-by-projectile-project))\n)\n;; can't switch to unreal buffer, https://github.com/doomemacs/doomemacs/issues/3495\n  ;; (setq doom-unreal-buffer-functions '(minibufferp))\n(after! persp-mode \n  (remove-hook 'persp-add-buffer-on-after-change-major-mode-filter-functions #'doom-unreal-buffer-p))\n\n(setq confirm-kill-emacs nil)\n(add-hook 'after-init-hook 'doom/switch-to-scratch-buffer)\n\n(add-hook 'emacs-startup-hook\n  (lambda () (when (get-buffer \"*scratch*\") (kill-buffer \"*scratch*\"))))\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u95ee\u9898\u6280\u5de7",children:"\u95ee\u9898\u6280\u5de7"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:"sudo ln -s /Applications/Emacs.app/Contents/MacOS/Emacs /usr/local/bin/emacs"})}),"\n",(0,a.jsx)(n.h2,{id:"\u53c2\u8003",children:"\u53c2\u8003"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/emacs-tw/awesome-emacs",children:"https://github.com/emacs-tw/awesome-emacs"})}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);