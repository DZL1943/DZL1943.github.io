"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[12034],{28453(e,n,t){t.d(n,{R:()=>a,x:()=>o});var r=t(96540);const s={},i=r.createContext(s);function a(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(i.Provider,{value:n},e.children)}},58213(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>p});var r=t(95438),s=t(74848),i=t(28453);const a={modified:"2026-01-22T19:02",date:"2025-12-21T21:18"},o=void 0,l={authorsImageUrls:[]},p=[];function d(e){const n={blockquote:"blockquote",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["App: \u8f6f\u4ef6\u5e94\u7528","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Desktop","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Windows"}),"\n",(0,s.jsx)(n.li,{children:"macOS"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Mobile","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Android"}),"\n",(0,s.jsx)(n.li,{children:"iOS"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Web"}),"\n",(0,s.jsx)(n.li,{children:"CLI"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Tool: \u5f00\u53d1\u6216\u8fd0\u7ef4\u5de5\u5177?"}),"\n",(0,s.jsxs)(n.li,{children:["Code: Lib\u3001Framework\u3001Middleware","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"C/C++"}),"\n",(0,s.jsx)(n.li,{children:"Rust"}),"\n",(0,s.jsx)(n.li,{children:"Go"}),"\n",(0,s.jsx)(n.li,{children:"Java"}),"\n",(0,s.jsx)(n.li,{children:"Python"}),"\n",(0,s.jsx)(n.li,{children:"JavaScript"}),"\n",(0,s.jsx)(n.li,{children:"Shell"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Resource"}),"\n",(0,s.jsx)(n.li,{children:"Archived"}),"\n",(0,s.jsx)(n.li,{children:"Inbox"}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"[!tip] \u53ea\u6574\u7406\u5728\u7528\u7684\u5c31\u884c."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:"fold",children:'#!/usr/bin/env python3\nimport argparse\nimport json\nimport time\nimport re\nimport sys\n\nimport httpx\n\nMAX_RETRIES = 5\nACCEPT = "application/vnd.github.mercy-preview+json, application/vnd.github.v3+json"\n\ndef get_with_retry(client, url, params=None, retries=MAX_RETRIES):\n    for attempt in range(retries):\n        r = client.get(url, params=params)\n        if r.status_code == 200:\n            return r\n        if r.status_code == 403:\n            rem = r.headers.get("X-RateLimit-Remaining")\n            reset = r.headers.get("X-RateLimit-Reset")\n            if rem == "0" and reset:\n                wait = max(0, int(reset) - int(time.time()) + 1)\n                print(f"rate limit, sleeping {wait}s...", file=sys.stderr)\n                time.sleep(wait); continue\n        if r.status_code in (429, 500, 502, 503, 504):\n            time.sleep((2 ** attempt) + 0.5); continue\n        r.raise_for_status()\n    r.raise_for_status()\n\ndef make_progress(show):\n    if not show:\n        class D:\n            def update(self, n=1): pass\n            def close(self): pass\n        return D()\n    try:\n        from tqdm import tqdm\n        return tqdm(desc="pages", unit="page")\n    except Exception:\n        return make_progress(False)\n\ndef fetch_pages(username, per_page=100, show_progress=True):\n    if not username:\n        raise SystemExit("username required")\n    endpoint = f"https://api.github.com/users/{username}/starred"\n    client = httpx.Client(headers={"Accept": ACCEPT}, timeout=30.0, verify=False)\n    page = 1\n    all_items = []\n    pbar = make_progress(show_progress)\n    try:\n        while True:\n            url = f"{endpoint}?per_page={per_page}&page={page}"\n            resp = get_with_retry(client, url)\n            items = resp.json()\n            if not isinstance(items, list):\n                raise RuntimeError(f"Unexpected response: {items}")\n            if page == 1 and show_progress:\n                link = resp.headers.get("Link", "") or ""\n                m = re.search(r\'[&?]page=(\\d+)>; rel="last"\', link)\n                if m and hasattr(pbar, "total"):\n                    try:\n                        pbar.total = int(m.group(1)); pbar.refresh()\n                    except Exception:\n                        pass\n            pbar.update(1)\n            if not items:\n                break\n            all_items.extend(items)\n            page += 1\n    finally:\n        pbar.close()\n        client.close()\n    return all_items\n\ndef process_items(items):\n    out = []\n    for it in items:\n        out.append({\n            "name": it.get("name"),\n            "full_name": it.get("full_name"),\n            "html_url": it.get("html_url"),\n            "description": it.get("description"),\n            "language": it.get("language"),\n            "topics": it.get("topics") or [],\n            "archived": bool(it.get("archived")),\n            "fork": bool(it.get("fork")),\n            "stargazers_count": it.get("stargazers_count", 0),\n            "pushed_at": it.get("pushed_at"),\n        })\n    out.sort(key=lambda x: x.get("stargazers_count", 0), reverse=True)\n    return out\n\ndef save_ndjson(items, path):\n    with open(path, "w", encoding="utf-8") as f:\n        for it in items:\n            f.write(json.dumps(it, ensure_ascii=False) + "\\n")\n\ndef main():\n    p = argparse.ArgumentParser(description="Fetch public GitHub starred repos and save as ndjson.")\n    p.add_argument("--username", "-u", required=True, help="GitHub username")\n    p.add_argument("--per-page", type=int, default=100, help="per_page (max 100)")\n    p.add_argument("--output", "-o", default="starred.ndjson", help="output ndjson file")\n    p.add_argument("--no-progress", action="store_true", help="hide progress")\n    args = p.parse_args()\n\n    if args.per_page > 100:\n        args.per_page = 100\n\n    try:\n        raw = fetch_pages(args.username, per_page=args.per_page, show_progress=not args.no_progress)\n    except Exception as e:\n        print("Error:", e, file=sys.stderr)\n        sys.exit(2)\n\n    items = process_items(raw)\n    save_ndjson(items, args.output)\n    print(f"Fetched {len(raw)} raw items, processed {len(items)} -> {args.output}")\n\nif __name__ == "__main__":\n    main()\n'})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},95438(e){e.exports=JSON.parse('{"permalink":"/blog/GitHub \u4ed3\u5e93\u5206\u7c7b","source":"@site/vault/Pages/GitHub \u4ed3\u5e93\u5206\u7c7b.md","title":"GitHub \u4ed3\u5e93\u5206\u7c7b","description":"- App: \u8f6f\u4ef6\u5e94\u7528","date":"2025-12-21T21:18:00.000Z","tags":[],"readingTime":2.33,"hasTruncateMarker":true,"authors":[],"frontMatter":{"modified":"2026-01-22T19:02","date":"2025-12-21T21:18"},"unlisted":false,"lastUpdatedAt":1769837821000,"prevItem":{"title":"GitHub \u955c\u50cf\u7f51\u7ad9","permalink":"/blog/GitHub \u955c\u50cf\u7f51\u7ad9"},"nextItem":{"title":"\u591a\u7ea7\u6807\u7b7e\u7684\u5339\u914d\u95ee\u9898","permalink":"/blog/202512211629"}}')}}]);