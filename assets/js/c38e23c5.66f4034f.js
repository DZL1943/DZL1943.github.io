"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[47829],{7575(n,i,e){e.r(i),e.d(i,{assets:()=>t,contentTitle:()=>c,default:()=>a,frontMatter:()=>o,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"Computer/Application/Kopia","title":"Kopia","description":"Repository","source":"@site/vault/Areas/Computer/90_Application/Kopia.md","sourceDirName":"Computer/90_Application","slug":"/Computer/Application/Kopia","permalink":"/docs/Computer/Application/Kopia","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1768875379000,"frontMatter":{"modified":"2024-07-31T15:06","url":["https://kopia.io/docs/getting-started/","https://wiki.archlinux.org/title/Synchronization_and_backup_programs#Chunk-based_increments"],"date":"2024-06-26T22:46"},"sidebar":"appSidebar","previous":{"title":"\u8f93\u5165\u6cd5","permalink":"/docs/Computer/Application/IME"},"next":{"title":"\u5916\u8bed\u5b66\u4e60\u5de5\u5177","permalink":"/docs/Computer/Application/Language Tools"}}');var s=e(74848),r=e(28453);const o={modified:"2024-07-31T15:06",url:["https://kopia.io/docs/getting-started/","https://wiki.archlinux.org/title/Synchronization_and_backup_programs#Chunk-based_increments"],date:"2024-06-26T22:46"},c=void 0,t={},d=[{value:"Repository",id:"repository",level:2},{value:"Policy",id:"policy",level:2},{value:"Snapshot",id:"snapshot",level:2},{value:"CLI",id:"cli",level:2},{value:"FAQ",id:"faq",level:2}];function h(n){const i={a:"a",blockquote:"blockquote",br:"br",code:"code",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h2,{id:"repository",children:"Repository"}),"\n",(0,s.jsx)(i.p,{children:"repo \u662f\u4fdd\u5b58\u5feb\u7167\u7684\u5730\u65b9"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"\u9009\u62e9\u5b58\u50a8\u7c7b\u578b: \u4e00\u822c\u9009\u7b2c\u4e00\u4e2a Local Directory"}),"\n",(0,s.jsxs)(i.li,{children:["\u586b\u5199 repo \u5b58\u50a8\u8def\u5f84: ",(0,s.jsx)(i.strong,{children:"\u6ce8\u610f\u8fd9\u662f\u4fdd\u5b58\u5feb\u7167\u7684\u4f4d\u7f6e, \u4e0d\u662f\u5f85\u5907\u4efd\u7684\u6587\u4ef6\u5939\u8def\u5f84!"})," \u8fd9\u91cc\u5fc5\u987b\u662f\u5df2\u7ecf\u5b58\u5728\u7684\u5b8c\u6574\u8def\u5f84, \u5efa\u8bae\u521b\u5efa\u597d\u4e4b\u540e\u76f4\u63a5\u901a\u8fc7\u56fe\u6807\u70b9\u9009."]}),"\n",(0,s.jsx)(i.li,{children:"\u586b\u5199 repo \u5bc6\u7801 (\u7528\u4e8e\u52a0\u89e3\u5bc6)"}),"\n",(0,s.jsx)(i.li,{children:"\u70b9\u51fb\u521b\u5efa repo"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"policy",children:"Policy"}),"\n",(0,s.jsx)(i.p,{children:"policy \u662f\u4e00\u7ec4\u89c4\u5219\uff0c\u544a\u8bc9 Kopia \u5982\u4f55\u521b\u5efa/\u7ba1\u7406\u5feb\u7167;\u8fd9\u5305\u62ec\u538b\u7f29\u3001\u5feb\u7167\u4fdd\u7559\u548c\u8c03\u5ea6\u4f55\u65f6\u81ea\u52a8\u62cd\u6444\u5feb\u7167\u7b49\u529f\u80fd\u3002"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"\u9009\u62e9 Policies \u680f"}),"\n",(0,s.jsxs)(i.li,{children:["\u70b9\u51fb\u6587\u4ef6\u5939\u56fe\u6807\u9009\u62e9",(0,s.jsx)(i.strong,{children:"\u5f85\u5907\u4efd\u7684\u6587\u4ef6\u5939"})]}),"\n",(0,s.jsxs)(i.li,{children:["\u70b9\u51fb Set policy, \u5728\u63a5\u4e0b\u6765\u7684\u754c\u9762\u8fdb\u884c\u8bbe\u7f6e","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Snapshot Retention: \u5feb\u7167\u7684\u4efd\u6570\u3001\u4fdd\u7559\u65f6\u95f4\u7b49","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Latest 10"}),"\n",(0,s.jsx)(i.li,{children:"Hourly 48"}),"\n",(0,s.jsx)(i.li,{children:"Daily 30"}),"\n",(0,s.jsx)(i.li,{children:"Weekly 4"}),"\n",(0,s.jsx)(i.li,{children:"Monthly 24"}),"\n",(0,s.jsx)(i.li,{children:"Annual 3"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["Files: \u5ffd\u7565\u6587\u4ef6 ",(0,s.jsx)(i.code,{children:".git/,.trash/,/Ext/"})]}),"\n",(0,s.jsx)(i.li,{children:"Error Handing"}),"\n",(0,s.jsx)(i.li,{children:"Compression: \u538b\u7f29(zstd)"}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"scheduling"}),": ",(0,s.jsx)(i.strong,{children:"\u81ea\u52a8"}),"\u5feb\u7167\u5468\u671f","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Frequency \u6bcf\u5c0f\u65f6"}),"\n",(0,s.jsx)(i.li,{children:"Times"}),"\n",(0,s.jsx)(i.li,{children:"Cron"}),"\n",(0,s.jsx)(i.li,{children:"Run Missed Snapshots on Startup"}),"\n",(0,s.jsx)(i.li,{children:"Manual Snapshots Only: \u662f\u5426\u4ec5\u624b\u52a8\u8fd0\u884c, Frequency \u4e0d\u662f\u4e5f\u80fd\u8bbe\u7f6e\u5417"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"Upload"}),"\n",(0,s.jsxs)(i.li,{children:["Snapshot Actions","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Before"}),"\n",(0,s.jsx)(i.li,{children:"After"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["Folder Actions","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Before"}),"\n",(0,s.jsx)(i.li,{children:"After"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"logging"}),"\n",(0,s.jsx)(i.li,{children:"Other"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"! \u70b9\u51fb Save Policy \u4fdd\u5b58\u8bbe\u7f6e"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"snapshot",children:"Snapshot"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\u9009\u62e9 Snapshots \u680f, \u6b64\u5904\u4f1a\u6309\u8def\u5f84\u7ec4\u7ec7\u5feb\u7167","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"\u70b9\u51fb Actions \u4e2d\u7684 Policy \u53ef\u4ee5\u8fdb\u884c\u5bf9\u5e94\u7684\u8bbe\u7f6e"}),"\n",(0,s.jsxs)(i.li,{children:["\u70b9\u51fb ",(0,s.jsx)(i.code,{children:"Snapshot Now"})," \u53ef\u4ee5\u624b\u52a8\u89e6\u53d1\u5feb\u7167"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\u70b9\u51fb\u60f3\u8981\u67e5\u770b\u7684\u5907\u4efd\u8def\u5f84, \u6b64\u5904\u5c06\u5217\u4e3e\u8be5\u8def\u5f84\u5bf9\u5e94\u7684\u6240\u6709\u5feb\u7167.","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\u9009\u62e9\u4e00\u4e2a\u5feb\u7167\u70b9\u51fb, \u5c06\u663e\u793a\u8be5\u8def\u5f84\u76ee\u5f55\u7ed3\u6784.","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"\u70b9\u51fb\u6587\u4ef6\u5939\u53ef\u4ee5\u8fdb\u5165, \u70b9\u51fb\u6587\u4ef6\u53ef\u4ee5\u4e0b\u8f7d."}),"\n",(0,s.jsx)(i.li,{children:"\u70b9\u51fb\u4e0a\u65b9\u7684 Mount \u6309\u94ae\u53ef\u4ee5\u6302\u8f7d"}),"\n",(0,s.jsx)(i.li,{children:"\u70b9\u51fb\u4e0a\u65b9\u7684 Restore \u6309\u94ae\u53ef\u4ee5\u5c06\u5f53\u524d\u76ee\u5f55\u6587\u4ef6\u6062\u590d\u5230\u6307\u5b9a\u76ee\u5f55(\u9700\u586b\u5199\u7edd\u5bf9\u8def\u5f84, \u4e14\u76ee\u6807\u76ee\u5f55\u4e3a\u7a7a)."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"\u52fe\u9009\u5feb\u7167\u524d\u7684\u590d\u9009\u6846, \u53ef\u5728\u4e0a\u65b9\u9009\u62e9 delete \u5220\u9664\u5feb\u7167"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"cli",children:(0,s.jsx)(i.a,{href:"https://kopia.io/docs/reference/command-line/common/",children:"CLI"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"diff"}),"\n",(0,s.jsx)(i.li,{children:"list"}),"\n",(0,s.jsx)(i.li,{children:"restore"}),"\n",(0,s.jsx)(i.li,{children:"show"}),"\n",(0,s.jsx)(i.li,{children:"mount"}),"\n",(0,s.jsx)(i.li,{children:"benchmark"}),"\n",(0,s.jsx)(i.li,{children:"notification"}),"\n",(0,s.jsx)(i.li,{children:"server"}),"\n",(0,s.jsx)(i.li,{children:"snapshot"}),"\n",(0,s.jsx)(i.li,{children:"policy"}),"\n",(0,s.jsx)(i.li,{children:"repository"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"faq",children:"FAQ"}),"\n",(0,s.jsxs)(i.blockquote,{children:["\n",(0,s.jsxs)(i.p,{children:["[!tip]+ Kopia \u547d\u4ee4\u884c\u5728\u54ea?",(0,s.jsx)(i.br,{}),"\n","\u70b9\u51fb KopiaUI \u754c\u9762\u5de6\u4e0b\u89d2\u4e00\u4e2a\u7c7b\u4f3c '>' \u7684\u56fe\u6807, \u4f60\u4f1a\u53d1\u73b0\u5176\u8def\u5f84\u5728 ",(0,s.jsx)(i.code,{children:"/Applications/KopiaUI.app/Contents/Resources/server/kopia"})]}),"\n"]}),"\n",(0,s.jsxs)(i.blockquote,{children:["\n",(0,s.jsx)(i.p,{children:"[!question] \u5982\u4f55\u66f4\u6539 Repo \u8def\u5f84?"}),"\n"]}),"\n",(0,s.jsxs)(i.blockquote,{children:["\n",(0,s.jsx)(i.p,{children:"[!question] \u5982\u4f55\u66f4\u6539\u5907\u4efd\u6587\u4ef6\u5939\u8def\u5f84?"}),"\n"]}),"\n",(0,s.jsxs)(i.blockquote,{children:["\n",(0,s.jsx)(i.p,{children:"[!question]+ \u4fee\u6539\u5bc6\u7801"}),"\n"]}),"\n",(0,s.jsxs)(i.blockquote,{children:["\n",(0,s.jsx)(i.p,{children:"[!question]+ \u6682\u505c\u81ea\u52a8\u5feb\u7167\n\u4fee\u6539 policy \u4e2d\u7684 scheduling \u5373\u53ef"}),"\n"]})]})}function a(n={}){const{wrapper:i}={...(0,r.R)(),...n.components};return i?(0,s.jsx)(i,{...n,children:(0,s.jsx)(h,{...n})}):h(n)}},28453(n,i,e){e.d(i,{R:()=>o,x:()=>c});var l=e(96540);const s={},r=l.createContext(s);function o(n){const i=l.useContext(r);return l.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function c(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:o(n.components),l.createElement(r.Provider,{value:i},n.children)}}}]);